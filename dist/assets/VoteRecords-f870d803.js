import{an as tt,a_ as et,ag as _,bf as st,au as l,av as i,a4 as h,ah as e,be as G,aH as t,bA as at,bC as lt,b5 as c,at as nt,b1 as rt,a$ as it,b2 as ut,ad as dt,b3 as w,aY as K,b7 as Q,bd as H,aF as E,b8 as ft,bb as X,b6 as R,aE as W,bk as Z,bh as ot,bc as A,bg as Ot,bv as mt,bB as Vt,$ as Yt,b9 as bt,ba as xt,bx as Ct}from"./index-1e3b5e9c.js";import{M as Ht}from"./match-api-service-85ee51bf.js";import{M as Dt}from"./match-service-ebe62e39.js";import{c as It,b as kt,T as jt}from"./TimeFormatting-2526bf3a.js";import{C as ct}from"./index-1a933474.js";import{T as P}from"./publicUnit-82a6e2b0.js";import{R as Kt}from"./RightOutlined-8341334e.js";import{C as Wt,R as Gt}from"./index-1f6fe659.js";import{_ as St}from"./index.vue_vue_type_script_setup_true_lang-d51c3f46.js";const Qt={class:"bottom-2 end_time font-p"},Lt=tt({__name:"index",props:{nftInfo:{type:Object,default:()=>{}}},emits:["cancleChallenge"],setup(k,{emit:v}){const{t:V}=et(),M=_(!0),o=_(!1),B=new Date().getTime(),x=v,[d]=[st()],{user_address:O}=d.query,r=k,S=()=>{O||(o.value=!0,M.value=!1)},f=()=>{o.value=!1,M.value=!0},N=()=>{x("cancleChallenge",r.nftInfo.challengeId)};return(g,Y)=>(l(),i("div",{class:"bg-[#000] w-[84px] text-[#fff] relative cursor-pointer nft_item",onMouseover:S,onMouseout:f},[h(e(G),{src:r.nftInfo.rightNftImage},null,8,["src"]),t("div",Qt,[h(ct,{value:r.nftInfo.matchEndTime-e(B),future:!1,format:"HH:mm:ss"},null,8,["value"])]),at(t("div",{class:"absolute top-[50%] btn bg-[#333]",onClick:N},c(e(V)("views.account.content.t13")),513),[[lt,o.value]])],32))}});const zt=nt(Lt,[["__scopeId","data-v-d0a01cde"]]),_t=k=>(bt("data-v-c93ae9b7"),k=k(),xt(),k),Ft={class:"space-y-6 tabsContent m_battle_data"},Zt={class:"space-y-3 tabsContent m_my_arena"},$t={class:"flex items-center justify-between text-sm font-semibold text-white default-family m_title"},Xt={key:0},Jt={class:"no_data"},qt={class:"no_data_content"},Pt={class:"space-y-4"},te={class:"flex items-center justify-between"},ee={class:"bg-black section"},se={class:"flex items-center flex-col justify-center h-[180px] w-[116px] m_middle"},ne=_t(()=>t("p",{class:"text-[30px] text-white"},"VS",-1)),oe={class:"text-xs my-[5px] m_time",style:{color:"#ee0002"}},ce=["onClick"],ae={class:"section m_challenger"},le={class:"flex flex-col items-center justify-center space-y-4 h-[180px] bg-black m_back"},re={class:"relative flex flex-col items-center justify-center h-full"},ie={class:"text-xl text-center text-white"},ue={class:"m_tip"},de={class:"space-y-6 tabsContent m_my_battle"},fe={class:"flex items-center justify-between text-sm font-semibold text-white default-family"},_e={key:0},he={class:"no_data"},ve={class:"no_data_content"},ge=["onClick"],pe={class:"space-y-4"},Ae={class:"flex items-center justify-between"},ye={class:"relative section m_nft"},we={class:"flex flex-col items-center justify-center space-y-4"},me={class:"flex items-center flex-col justify-center h-[180px] w-[116px] m_middle"},be={key:0,class:"text-xs f-1 my-[5px]"},xe={key:0},Ce={key:1},Ie={class:"relative section m_nft"},ke={class:"flex flex-col items-center justify-center"},Se={class:"space-y-6 tabsContent m_my_challenge"},Ne={class:"flex items-center justify-between text-sm font-semibold text-white default-family"},Te={key:0},Re={class:"no_data"},Me={class:"no_data_content"},Be={key:1,class:"space-y-3 m_data"},Ue={class:"flex items-center justify-between"},Ee={class:"section m_nft"},Oe=_t(()=>t("section",{class:"flex items-center flex-col justify-center h-[182px] m_middle"},[t("p",{class:"text-[30px] text-white"},"VS")],-1)),Ve={class:"section"},Ye={class:"m_waiting bg-[#000] text-[#fff] flex items-center justify-center h-[182px] text-[20px] text-center default-family"},He={class:"flex flex-col bg-[#000] p-[13px] relative"},De=_t(()=>t("div",{class:"triangle"},null,-1)),je={class:"text-[#fff] mb-[8px] default-family"},Ke={class:"modal_title"},We={class:"vote_nft"},Ge=tt({__name:"TabsContent",emits:["getBrunNft"],setup(k,{emit:v}){const V=_(),M=_(()=>V.value),{t:o}=et(),[B,x]=[st(),rt()],{user_address:d}=B.query,O=new ft,r=it(),S=new Ht,f=_(!1),N=_(!1),g=_(!1),Y=_(),D=new Date().getTime(),C=_(),{chain:m}=ut(),u=v;dt(async()=>{p(),console.log(r.address==d)});const p=async()=>{g.value=!0;try{C.value=await O.getMyBattleRecord(d||r.address,{chainId:m==null?void 0:m.id}),console.log(C.value)}catch(s){w(s.message,"error",!1)}finally{g.value=!1}},T=s=>{x.push({path:"/account/selectOpponent",query:{type:"team",match_id:s}})},I=async s=>{if(!r.address){w(o("views.account.content.t32"),"error",!1);return}const y={matchId:s,arenaCreatorAddress:r.address,arenaCreatorSignature:""};try{y.arenaCreatorSignature=await mt(s),await S.cancelMatch(y),p(),w(o("views.account.content.t35"),"success",!1,2)}catch(z){w(z.message,"error",!1)}},U=async s=>{if(!r.address){w(o("views.account.content.t32"),"error",!1);return}const y={challengeId:s,challengerAddress:r.address,challengerSignature:""};try{y.challengerSignature=await mt(s),await S.cancelChallenge(y),p(),w(o("views.account.content.t36"),"success",!1,2)}catch(z){w(z.message,"error",!1,2)}},n=async(s,y)=>{(s.leftWin=="-1"&&y=="left"||s.rightWin=="-1"&&y=="right")&&s.matchStatus!="determined"?(Y.value=s,f.value=!0):ht(s)},L=()=>{x.push("/ring/create")},$=()=>{x.push("/ring/index")},Rt=s=>{s==1?w(o("common.stayTuned"),"warning",!1):s==2?x.push("/account/battleRecord"):s==3&&w(o("common.stayTuned"),"warning",!1)},ht=s=>{const y=s.matchId;x.push({path:"/fightInfo/index",query:{match_id:y}})},Mt=async()=>{if(N.value=!0,!await Vt(r.address,Yt())){w(o("views.account.content.t37",{unit:P}),"error",!1),N.value=!1;return}try{await Dt.determine(Y.value.matchId),w("Success","success",!1,2,()=>{p(),u("getBrunNft")}),N.value=!1,f.value=!1}catch(s){w(s.message,"error",!1),N.value=!1,f.value=!1}},Bt=s=>{if((s==null?void 0:s.leftWin)=="-1")return s.leftMetaName;if((s==null?void 0:s.leftWin)=="1")return s.rightMetaName},b=s=>({status:s.leftWin=="0"?"VS":s.leftWin=="1"?"K.O.":"Burn By",battleResLeft:s.leftWin=="1"?!0:s.leftWin=="-1"?!1:"1",battleResRight:s.rightWin=="1"?!0:s.rightWin=="-1"?!1:"1",battleStatus:s.leftWin=="0",showData:s.leftWin!="0",colorRed:s.leftWin!="0",textColor:s.leftWin=="0"?"battle_vs":s.leftWin=="1"?"ballet_ko":"battle_defeated",btnTextLeft:s.leftWin=="0"?s.leftHold=="1"?o("views.account.content.t38"):s.leftHold=="0"&&s.leftOutPrice!="0"?o("views.account.content.t8",{unit:P,price:Number(s.leftOutPrice).toFixed(5)}):"0":s.leftWin=="1"?o("views.account.content.t12"):s.matchStatus=="determined"?o("views.account.content.t7"):o("views.account.content.t31"),leftBtnStyle:s.leftWin=="0"?"ptice":s.leftWin=="1"?"win":s.matchStatus=="determined"?"defeated":"arbitrament",btnTextRight:s.leftWin=="0"?s.rightHold=="1"?o("views.account.content.t38"):s.leftOutPrice=="0"&&s.rightOutPrice!="0"?o("views.account.content.t8",{unit:P,price:Number(s.rightOutPrice).toFixed(5)}):"0":s.rightWin=="1"?o("views.account.content.t12"):s.matchStatus=="determined"?o("views.account.content.t7"):o("views.account.content.t31"),rightBtnStyle:s.rightWin=="0"?"ptice":s.rightWin=="1"?"win":s.matchStatus=="determined"?"defeated":"arbitrament"}),Ut=s=>{x.push({path:"/ring/challengeRing",query:{match_id:s.matchId}})};return(s,y)=>{var vt,gt,pt,At,yt,wt;const z=Z;return l(),i(K,null,[t("div",Ft,[t("div",Zt,[t("p",$t,[t("span",null,c(e(o)("views.account.content.t28")),1)]),h(e(X),{spinning:g.value},null,8,["spinning"]),((vt=C.value)==null?void 0:vt.matchList.length)==0||!e(r).address&&!e(d)?(l(),i("section",Xt,[t("div",Jt,[t("div",qt,c(e(o)("views.account.empty.t4")),1),t("div",{class:"no_data_link",onClick:L},c(e(o)("views.account.empty.t1")),1)])])):(l(!0),i(K,{key:1},Q((gt=C.value)==null?void 0:gt.matchList,(a,F)=>(l(),i("section",{class:"space-y-3 m_data",key:F},[t("div",Pt,[t("div",te,[t("section",ee,[h(e(G),{src:a.leftNftImage},null,8,["src"])]),t("section",se,[ne,t("p",oe,[h(ct,{value:a.matchEndTime-e(D),future:!1,format:"HH:mm:ss"},null,8,["value"])]),!e(d)||e(r).address==e(d)?(l(),i("div",{key:0,class:"off_ring",onClick:j=>I(a.matchId)},c(e(o)("views.account.content.t13")),9,ce)):R("",!0)]),t("section",ae,[t("div",le,[t("div",re,[t("p",ie,[t("p",null,c(a.battleCount),1),t("p",ue,c(Number(a.battleCount)<=1?e(o)("views.account.content.t5_1"):e(o)("views.account.content.t5")),1)]),Number(a.battleCount)!==0&&!e(d)||e(d)&&e(d)==e(r).address&&Number(a.battleCount)!==0?(l(),W(e(Z),{key:0,class:"flex text-black py-[8px] w-[140px] items-center justify-center text-[15px] border-0 rounded-none bg-primary choose_opponent",style:{color:"#000",position:"absolute",bottom:"0px"},onClick:j=>T(a.matchId)},{default:E(()=>[H(c(e(o)("views.account.content.t6")),1)]),_:2},1032,["onClick"])):e(d)&&e(r).address!==e(d)&&e(r).address?(l(),W(e(Z),{key:1,onClick:j=>Ut(a),class:"flex text-black py-[8px] w-[140px] items-center justify-center text-[15px] border-0 rounded-none bg-primary choose_opponent",style:{color:"#000",position:"absolute",bottom:"0px"}},{default:E(()=>[H(c(e(o)("views.account.content.t42")),1)]),_:2},1032,["onClick"])):R("",!0)])])])])])]))),128))]),t("div",de,[t("p",fe,[t("span",null,c(e(o)("views.account.content.t17")),1),t("span",{class:"right_btn",onClick:y[0]||(y[0]=a=>Rt(2))},[H(c(e(o)("views.account.empty.t3"))+" ",1),h(e(Kt),{class:"cursor-pointer f-1"})])]),h(e(X),{spinning:g.value},null,8,["spinning"]),((pt=C.value)==null?void 0:pt.battleList.length)==0||!e(r).address&&!e(d)?(l(),i("section",_e,[t("div",he,[t("div",ve,c(e(o)("views.account.empty.t6")),1)])])):(l(!0),i(K,{key:1},Q((At=C.value)==null?void 0:At.battleList,(a,F)=>(l(),i("section",{class:"space-y-3 cursor-pointer m_data",key:F,onClick:ot(j=>ht(a),["stop"])},[t("div",pe,[t("div",Ae,[t("section",ye,[h(e(G),{src:a.leftNftImage,class:A({grayscale:!b(a).battleResLeft})},null,8,["src","class"]),t("div",we,[b(a).btnTextLeft!="0"?(l(),W(e(Z),{key:0,class:A(["absolute bottom-0 left-0 flex items-center justify-center w-full h-8 rounded-none m_btn",b(a).leftBtnStyle]),onClick:ot(j=>n(a,"left"),["stop"])},{default:E(()=>[H(c(b(a).btnTextLeft),1)]),_:2},1032,["class","onClick"])):R("",!0)])]),t("section",me,[t("p",{class:A(["text-2xl text-center m_status",b(a).textColor])},c(b(a).status),3),b(a).showData?(l(),i("p",be,c(e(It)(new Date(a.matchEndTime))),1)):R("",!0),t("p",{class:A(["text-xs text-center f-1",{"mt-[10px]":b(a).battleStatus}])},[b(a).battleStatus?R("",!0):(l(),i("span",xe,c(e(kt)(new Date(a.matchEndTime))),1)),b(a).battleStatus?(l(),i("span",Ce,[h(ct,{value:a.matchEndTime-e(D),future:!1,format:"HH:mm:ss"},null,8,["value"])])):R("",!0)],2)]),t("section",Ie,[h(e(G),{src:a.rightNftImage,class:A({grayscale:!b(a).battleResRight})},null,8,["src","class"]),t("div",ke,[b(a).btnTextRight!="0"?(l(),W(e(Z),{key:0,class:A(["absolute bottom-0 left-0 flex items-center justify-center w-full h-8 rounded-none m_btn",b(a).rightBtnStyle]),onClick:ot(j=>n(a,"right"),["stop"])},{default:E(()=>[H(c(b(a).btnTextRight),1)]),_:2},1032,["class","onClick"])):R("",!0)])])])])],8,ge))),128))]),t("div",Se,[t("p",Ne,[t("span",null,c(e(o)("views.account.content.t14")),1)]),h(e(X),{spinning:g.value},null,8,["spinning"]),((yt=C.value)==null?void 0:yt.challengerList.length)==0||!e(r).address&&!e(d)?(l(),i("section",Te,[t("div",Re,[t("div",Me,c(e(o)("views.account.empty.t5")),1),t("div",{class:"no_data_link",onClick:$},c(e(o)("views.account.empty.t2")),1)])])):(l(),i("section",Be,[(l(!0),i(K,null,Q((wt=C.value)==null?void 0:wt.challengerList,(a,F)=>(l(),i("div",{class:"space-y-4 mb-[20px]",key:F},[t("div",Ue,[t("section",Ee,[h(e(G),{src:a.leftNftImage},null,8,["src"])]),Oe,t("section",Ve,[t("div",Ye,c(e(o)("views.account.content.t15")),1)])]),t("div",He,[De,t("div",je,c(e(o)("views.account.content.t39",{count:a==null?void 0:a.matchList.length})),1),h(e(Gt),{gutter:[10,10]},{default:E(()=>[(l(!0),i(K,null,Q(a==null?void 0:a.matchList,(j,Et)=>(l(),W(e(Wt),{key:Et,class:"flex w-1/4"},{default:E(()=>[h(zt,{nftInfo:j,onCancleChallenge:U},null,8,["nftInfo"])]),_:2},1024))),128))]),_:2},1024)])]))),128))]))])]),t("div",{ref_key:"aModal",ref:V},[h(e(Ot),{open:f.value,"onUpdate:open":y[1]||(y[1]=a=>f.value=a),centered:"",keyboard:!1,closable:!1,okText:e(o)("views.fightInfo.buttonT"),width:380,getContainer:M.value},{footer:E(()=>[h(e(X),{spinning:N.value},{default:E(()=>[h(z,{onClick:Mt,class:"vote_ok"},{default:E(()=>[H(c(e(o)("views.fightInfo.buttonT")),1)]),_:1})]),_:1},8,["spinning"])]),default:E(()=>[t("div",Ke,c(e(o)("views.fightInfo.burnNft")),1),t("div",We,c(Bt(Y.value)),1)]),_:1},8,["open","okText","getContainer"])],512)],64)}}});const Ys=nt(Ge,[["__scopeId","data-v-c93ae9b7"]]),Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAkhJREFUOE+tlM9r03AYxp/8aGKbpKNNbE0a1IGnOQYywctETyKCiBdlHgZT1MPwKIJ4HDIUHFg9evGiHnZRqognB4o4Jv4L2mYpbWzWrE07tY0k2l/mB4J7r+/7/Xyf7/O8CZHJZBzsYBEu8DDDQiAJrLbb6Pwn3APeTqVxSUii2ung0ZaFZavuw04zLK4mk1gwqvgRcakHdPvjNI1ryTHM8gImSl9hdrv9Y26vkJUhUhRWmg0sfDMQ5lMf2IN+UFRcrFZQaNkeUCJJFPbI2E/H+hfkrToWN81AnSNAd+KzouJly8ZNs+YdmIoxOMSymGZZnE1wuGXWPHXPmg1sO36dPuBDUcIkw+CYvjGi4DzHYyktYrz4JTI2H/ACx+NeWsSkVoLRHWQeBTwRj0MgSKzYTfiA+2gaHxUVl40Kntu/fXTrdCKBpZSIg1pxRGGOovBWzuFps+HZ4QO6058UFW9aNm788THqjU92ZzHBxDCzoWHLcYKB+bTkBTGja5F+uTbcFyXMVytekG4FKpzleCyLEqZKRVSGfBymZykKq3IO79ttzBuVfisQuJemsaaouLtpYu37dqDKK8IYjrAsjuoa9M4gvECgS3gn53AgNljmIOr1moHHjcZIKxTIEQQkigr18KfjQBtS1hsMBUamEdEMBcYJAq+yMpIkiZNlfSScOV7AYiqNO3UTDyzr356sUBTWFRUkQeBUWcf6UDh5UcI5jsfrlo256iDh0LXpXXl8V9z78b4Y+mLcnkiSOJPgvN0r/+Xjjnv4C6I0zikqwixwAAAAAElFTkSuQmCC",Nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAOBJREFUOE+tkrsKg0AQRa9oIeIbWbVQEfwFBf+/svAXxMYXItpomzBCTCJ5LCED2+zMYe5crsAYu+CHEggMggCu6z7hbduCXhzHcBzn6I3jiLqusYNpmmLbNszzfAwsy7L/6boOVVVh2zaSJEHXdSiK4g42TbNveFUEZVkGmlEUhQ+8QWVZQhRFRFH0HXyE6DaSzBhDVVXvpRqGgTzPQZsIOtdhzvlGTdMgSdKTYbIswzRN9H3PZ85tm+d5fDee5f0XXNcV0zR9DJ9lWSDTjgCEYQjf97kSOwzDPXJcxGnoCqA7mJ2tuO68AAAAAElFTkSuQmCC",Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAn1JREFUOE+tk2tIk3EUxp9tuZubG2u+q0lzzZJVzKUW9GUqaaMPXWkYFGil5TSCIDSQ0JQIXMwthehTVyKIQoUuohlIuVquFqyWNYOKMsvWm5sUuK3Fu7GNtUuCno/nnP/vfZ5zzksjCCKIBQwaBVxZxAOHx8DLEQ/+BObHDwGr23OhrZZg+rsPA5e+ord7IkFzQakAumM5aNnmTOsnBKQ6JHIWttZLUVYphr7IjhnSH/dQoxNj/yk5DihtcwNGoJ3Dapj1LozeI+cPpAjd1rUY7SdxpfVDCEjksiCRsaDSCKDdJ4Gx5i0oS2NWL/yzifOOWo7IqTcrIF+TieObHKGURM5GW88q8EUZUcWWXjfOHX2HYJL9JQDLdmejtkOOhmI7PO7wHFcU8tB8XQkWh45XFg8MVW/g98VoheVCcLMYGOlxIwFIyFgwPVSjq2Ec1js/oqqKtULsPJKD03vG8MsbiOYXS5noGFRh+MYUrrZ9TARSnV2P1bAP/cTFE+E5poumy/mQKblorHDgtzeQHKjvVCBPnYnG8vAcU0WJTow6owKmOhds/eGrSLBMJUsrxThoWI7D619gesqXlCckMmC4r8LrJ16YDrmiPUmB2ctYMD9S45bpE1zPZpICN9csQf46PpoqHCAnZ9MDqeqZBypI8zhpLV9ofo+ha9/iepIqpDrYXDqyxLHb+5cc8Afhnogpi9RTAv+33VT1lEAmm472vtXg8Blo2e6MW87GvQSqTspw0/gZt89/mZtl0VImzlrUoNNpaN3hxLg9thzqrDS7xHg+SMJYG9twyrOJfLKgRAA2j4Gnd2N/DFXjixZhwxYRbAMkyMn4s1rwGf4Fj+nWKUaKVZ4AAAAASUVORK5CYII=",Tt=k=>(bt("data-v-f836ef7d"),k=k(),xt(),k),ze={class:"transfer-records default-family"},Fe={key:0,class:"list-header"},Ze=Tt(()=>t("p",null,"NFT",-1)),$e={class:"cell"},Xe={class:"detail"},Je={class:"w-1/3 type-info"},qe=["src"],Pe={class:"time-box"},ts={class:"type-text font-f"},es=["onClick"],ss=["src"],ns={class:"w-1/2 nft-info"},os={class:"info"},cs={class:"w-1/6 price-info"},as=Tt(()=>t("br",null,null,-1)),ls=["onClick"],rs={class:"w-1/3 left"},is={class:"w-1/3 left right"},J=10,us=tt({__name:"TransferRecords",setup(k){const{t:v}=et(),V=rt(),M=it(),o=_(!1),B=_("loading..."),x=_(!0),d=_(0),O=new ft,r=_(),S=_(!0),{chain:f}=ut(),[N]=[st()],{user_address:g}=N.query;dt(async()=>{try{await Y()}catch(m){w(m.message,"error",!1)}});const Y=async()=>{r.value=await O.getMyRecord(g||M.address,{start:0,length:J,chainId:f==null?void 0:f.id})},D=m=>{m.win=="0";const u=m.matchId;V.push({path:"/fightInfo/index",query:{match_id:u}})},C=Ct.throttle(async m=>{var T;const u=m.target;if(u.scrollTop+u.clientHeight>=u.scrollHeight&&x.value&&S.value){o.value=!0,S.value=!1;const I=await O.getMyRecord(g||M.address,{start:J+d.value*J,length:J,chainId:f==null?void 0:f.id});if(d.value+=1,I.length==0){x.value=!1,o.value=!1;return}r.value=(T=r.value)==null?void 0:T.concat(I),o.value=!1,S.value=!0}},300);return(m,u)=>{var T,I,U;const p=G;return l(),i("div",ze,[(T=r.value)!=null&&T.length?(l(),i("div",Fe,[t("p",null,c(e(v)("views.account.content.t18"))+" / "+c(e(v)("views.account.content.t19")),1),Ze,t("p",null,c(e(v)("views.account.content.t20")),1)])):R("",!0),t("div",{class:A(["h-[700px] overflow-y-auto wrap scrollBar-y",(I=r.value)!=null&&I.length?"":"fja"]),onScroll:u[0]||(u[0]=(...n)=>e(C)&&e(C)(...n))},[(l(!0),i(K,null,Q(r.value,(n,L)=>(l(),i("div",{class:"cell-wrap",key:L},[t("div",$e,[t("div",Xe,[t("div",Je,[t("img",{class:"type-img",src:n.buyOrSell=="-1"?e(Qe):e(Le),alt:""},null,8,qe),t("div",Pe,[t("p",ts,c(n.buyOrSell=="-1"?e(v)("views.account.t14"):e(v)("views.account.t13")),1),t("div",{class:"cursor-pointer time",onClick:$=>D(n)},[t("p",null,c(e(jt)(n.createdAt)),1),t("img",{src:e(Nt),alt:""},null,8,ss)],8,es)])]),t("div",ns,[h(p,{src:n==null?void 0:n.nftImage,alt:"",width:46,height:46,class:A({grayscale:n.myHit=="-1"})},null,8,["src","class"]),t("div",os,[t("p",null,c(n==null?void 0:n.metaName),1)])]),t("div",cs,[t("p",null,[H(c(n==null?void 0:n.bidPrice)+" ",1),as,H(" "+c(e(P)),1)])])]),t("div",{class:"vs-box",onClick:$=>D(n)},[t("div",rs,[h(p,{src:n==null?void 0:n.leftNftImage,alt:"",width:20,height:20,class:A({grayscale:n.win=="-1"})},null,8,["src","class"]),t("p",null,c(n==null?void 0:n.leftMetaName),1)]),t("p",{class:A(["w-1/3 text-center center",{"text-[#BBF74C]":n.win=="1","text-[#FF3436]":n.win=="-1","text-[#666]":n.win=="0"}])},c(n.win=="0"?"VS":n.win=="-1"?e(v)("views.account.content.t4"):"K.O."),3),t("div",is,[h(p,{src:n==null?void 0:n.rightNftImage,alt:"",width:20,height:20,class:A({grayscale:n.win=="1"})},null,8,["src","class"]),t("p",null,c(n==null?void 0:n.rightMetaName),1)])],8,ls)])]))),128)),(U=r.value)!=null&&U.length?R("",!0):(l(),W(St,{key:0})),at(t("div",{class:"text-[#666] text-center text-lg default-family"},c(B.value),513),[[lt,o.value]])],34)])}}});const Hs=nt(us,[["__scopeId","data-v-f836ef7d"]]),ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAPpJREFUOE+9lUEKwjAQRX8RLFjdtFI9iJ7DhSCoZ3ChnkNdeAYVBBeeQw+iYN20FSpIZYINscRUZDDL8nnzkpmklu/7KRiXpQLbZRvHe4JvK1gAWmUbh3silSSwW3Gw9OrYxhHG16AQSrCF66HnVDEKLtjdYgEVQDLbN5ooWRQD1lGIiQFKqbnrYVCtifwjTdE5n4SpAGbV+q+ACZqHUXYThXJXcsu64CoKMVVMKTNzPQwNhd+aYoKSSRFMnqE6NToLMqWlmuXtM8abofyosVGLfoJpDYugJtj/gLpz/HnLrE1hHRvWwWa/euyPA3WQ9fnKRoL1geX6CzwBzXzjKeHryhgAAAAASUVORK5CYII=",fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAU5JREFUOE9jFBMT+89ARcA4aA2U0+RkeHT9OwNVXOiZIsEQXSPLsKDmIeUGQgyTY2BkZGD4//8/ZQYiGwaK1xunPkMMZGVnZPj9k7TIxmZYV/xNBkYrD6X/+dNVGCbn3GG4dfoLUQkIl2E/v/1jYNz0yvM/Jy8zw4+vfxk6428SNNQzWYIhuhYSZjBvglwGMgwEGFfdd/svKM7GwMDIADYUJHkTh0sxDDv5maErAWEY2EA9c7n/NSs0GAgZim7Y9ZOfGbrRDAMbCIoUCUUOBkxDbzHcPP0Z7A1iDYMbCGLgMlRJjxslzK6f/MTQnXALHmbosYiSUyQVORiqkbz/++c/BhY2JngEEDIMxYUwm2CGCoizwQ0CyRFjGFYDkb0PM5RYw3AaCJKAufTlo5/gpARLZ4RSPt7SRkyOneHjm99EG4bXhYRcgkueKuUhsuEApBLE/Gk/opMAAAAASUVORK5CYII=",_s={class:"vote-records"},hs={key:0,class:"list-header"},vs={class:"cell"},gs={class:"vs-info"},ps=["src"],As=["src"],ys={class:"result"},ws=["src"],ms={key:1,class:"default-family text-[13px] text-[#666] first-letter object-contain"},bs={class:"point"},xs={key:0},Cs={key:1},Is=["onClick"],ks=["src"],q=10,Ss=tt({__name:"VoteRecords",setup(k){const{t:v}=et(),V=rt(),M=it(),o=_(),B=_(!1),x=_("loading..."),d=_(!0),O=new ft,r=_(0),S=_(!0),{chain:f}=ut(),[N]=[st()],{user_address:g}=N.query;dt(async()=>{try{await Y()}catch(u){w(u.message,"error",!1)}});const Y=async()=>{o.value=await O.getVoteRecord(g||M.address,{start:0,length:q,chainId:f==null?void 0:f.id})},D=u=>{if(!u){w(v("views.account.t16"),"error",!1);return}V.push({path:"/fightInfo/index",query:{match_id:u}})},C=u=>{if(u!="0"){if(u=="1")return fs;if(u=="-1")return ds}},m=Ct.throttle(async u=>{var I;const p=u.target;if(p.scrollTop+p.clientHeight>=p.scrollHeight&&d.value&&S.value){B.value=!0,S.value=!1;const U=await O.getVoteRecord(g||M.address,{start:q+r.value*q,length:q,chainId:f==null?void 0:f.id});if(r.value+=1,U.length==0){d.value=!1,B.value=!1;return}o.value=(I=o.value)==null?void 0:I.concat(U),B.value=!1,S.value=!0}},300);return(u,p)=>{var T,I,U;return l(),i("div",_s,[(T=o.value)!=null&&T.length?(l(),i("div",hs,[t("p",null,c(e(v)("views.account.content.t21")),1),t("p",null,c(e(v)("views.account.content.t22"))+"/"+c(e(v)("views.account.content.t23")),1),t("p",null,c(e(v)("views.account.content.t24")),1),t("p",null,c(e(v)("views.account.content.t19")),1)])):R("",!0),t("div",{class:A(["h-[700px] overflow-y-auto wrap scrollBar-y",(I=o.value)!=null&&I.length?"":"fja"]),onScroll:p[0]||(p[0]=(...n)=>e(m)&&e(m)(...n))},[(l(!0),i(K,null,Q(o.value,(n,L)=>(l(),i("div",{class:"list-wrap",key:L},[t("div",vs,[t("div",gs,[t("div",{class:A({voted:n.leftVote=="1"})},[t("img",{src:n==null?void 0:n.leftNftImage,alt:"",class:A(["object-contain",{grayscale:n.leftVote&&n.win=="-1"}])},null,10,ps)],2),t("p",null,c(n.win=="0"?"vs":n.win=="1"?"K.O.":"burn by"),1),t("div",{class:A({voted:n.leftVote!="1"})},[t("img",{src:n.rightNftImage,alt:"",class:A(["object-contain",{grayscale:n.rightVote&&n.win=="1"}])},null,10,As)],2)]),t("div",ys,[n.isHit=="1"||n.isHit=="-1"?(l(),i("img",{key:0,src:C(n.isHit),alt:""},null,8,ws)):(l(),i("span",ms,c(e(v)("views.account.t12")),1))]),t("div",bs,[n.isHit!="0"?(l(),i("p",xs,"+"+c(n.voteCtbInt),1)):(l(),i("p",Cs,"-"))]),t("div",{class:"time",onClick:$=>D(n==null?void 0:n.matchId)},[t("p",null,[t("div",null,c(e(It)(new Date(n.votedAt))),1),t("div",null,c(e(kt)(new Date(n.votedAt))),1)]),t("img",{src:e(Nt),alt:""},null,8,ks)],8,Is)])]))),128)),(U=o.value)!=null&&U.length?R("",!0):(l(),W(St,{key:0})),at(t("div",{class:"text-[#666] text-center text-lg default-family"},c(x.value),513),[[lt,B.value]])],34)])}}});const Ds=nt(Ss,[["__scopeId","data-v-50063095"]]);export{Ys as T,Ds as V,Hs as a};
