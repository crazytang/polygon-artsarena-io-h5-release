import{an as M,a_ as V,bf as R,b1 as U,ag as a,a$ as q,b2 as z,bi as j,ad as H,au as w,av as y,a4 as p,ah as s,aH as o,b5 as f,aF as A,b6 as E,bc as $,b3 as v,b9 as G,ba as J,be as K,bj as L,bk as O,bd as Q,bb as W,b8 as X,at as Y}from"./index-1e3b5e9c.js";import{M as Z}from"./match-api-service-85ee51bf.js";import{P as ee}from"./index-540ab890.js";import"./match-data-ext-5e1df082.js";import"./nft-data-00f9cd4d.js";import"./CheckOutlined-f83db689.js";import"./index-f42bfe17.js";import"./firstNotUndefined-748ee901.js";const te=x=>(G("data-v-2b4fd546"),x=x(),J(),x),ae={class:"flex flex-col items-center p-6 space-y-4 submitAccount"},se={key:0,class:"flex flex-col items-center mt-[28px]"},ne={class:"text-[17px] font-primary default-family mb-[17px]"},oe={class:"flex items-center space-x-3 f-1 mb-[30px]"},re=te(()=>o("span",{class:"text-[30px]"},"@",-1)),le={key:1,class:"flex flex-col items-center"},ce={class:"text-[17px] font-primary default-family mt-[18px]"},ie={class:"text-[#808080] font-p text-[30px] mt-[10px]"},ue={class:"w-96 mt-[10px]"},de=M({__name:"submitAccount",setup(x){const{t}=V(),[k,N]=[R(),U()],r=a(),C=a(),I=a(0),l=a(),P=new X,B=q(),_=k.query.match_id,D=new Z,m=a(!1),h=a(!0),{chain:b}=z(),g=j({percent:0}),c=a(t("views.extendExpense.index.t15")),i=a(!1),S=a();H(async()=>{const e=await D.getMatchDataExtByMatchId(_);e.voteArenaCount>e.voteChallengeCount?(r.value=e.arenaCreatorNFTData,C.value=e.challengerNFTData,e.challengerNftSoldPrice>e.challengerNftSellPrice&&(I.value=e.challengerNftSoldPrice-e.challengerNftSellPrice)):(r.value=e.challengerNFTData,C.value=e.arenaCreatorNFTData,e.arenaCreatorNftSoldPrice>e.arenaCreatorNftSellPrice&&(I.value=e.arenaCreatorNftSoldPrice-e.arenaCreatorNftSellPrice))});const T=()=>{var e,u,d;if(!l.value){v(t("views.extendExpense.index.t22"),"warning",!1);return}m.value=!0,h.value=!1,g.percent+=10,c.value=t("views.extendExpense.index.t23"),P.verifyAvatar(B.address,{twitterAccount:l.value,matchId:_,tokenAddress:(e=r.value)==null?void 0:e.nftAddress,tokenId:(u=r.value)==null?void 0:u.nftTokenId,tokenImageUri:(d=r.value)==null?void 0:d.cacheImageUrl,chainId:b==null?void 0:b.id}).then(n=>{if(m.value=!1,g.percent+=90,n.status!=200){v(n.msg,"error",!1),i.value=!1,c.value=t("views.extendExpense.index.t16");return}else c.value=t("views.extendExpense.index.t15"),v(n.msg,"success",!1),i.value=!0;S.value=n}).catch(n=>{v(n.msg,"error",!1),c.value=t("views.extendExpense.index.t16"),m.value=!1,i.value=!1})},F=()=>{var e;i.value?N.push({path:"/extendExpense/tips",query:{match_id:_,data:(e=S.value)==null?void 0:e.data,twitterAccount:l.value}}):(v("Please re-verify","warning",!1),N.push({path:"/extendExpense/setAvatar",query:{match_id:_}}))};return(e,u)=>{var d;return w(),y("div",ae,[p(s(K),{width:200,height:200,round:!0,src:(d=r.value)==null?void 0:d.cacheImageUrl,style:{"border-radius":"50%"}},null,8,["src"]),h.value?(w(),y("div",se,[o("p",ne,f(s(t)("views.extendExpense.index.t12")),1),o("div",oe,[re,p(s(L),{placeholder:s(t)("views.extendExpense.index.t13"),value:l.value,"onUpdate:value":u[0]||(u[0]=n=>l.value=n),class:"input"},null,8,["placeholder","value"])]),p(s(W),{spinning:m.value},{default:A(()=>[p(s(O),{class:"h-10 px-32 font-semibold border-0 rounded-none font-f bg-primary",style:{color:"#000"},onClick:T},{default:A(()=>[Q(f(s(t)("views.extendExpense.index.t5")),1)]),_:1})]),_:1},8,["spinning"])])):E("",!0),h.value?E("",!0):(w(),y("div",le,[o("p",ce,f(s(t)("views.extendExpense.index.t24")),1),o("div",ie,"@"+f(l.value),1),o("div",ue,[p(s(ee),{percent:g.percent,"stroke-color":"#BBF74C",trailColor:"rgba(187,247,76,0.3)","show-info":!1,size:2},null,8,["percent"])]),o("div",{class:$(["button font-f mt-[28px]",{highlight:i.value}]),onClick:F},f(c.value),3)]))])}}});const ge=Y(de,[["__scopeId","data-v-2b4fd546"]]);export{ge as default};
