import{C as h,T as e}from"./transaction-api-service-8b388dbb.js";import{C as w}from"./contract-data-service-bee1e717.js";import{$ as u,a0 as r,a1 as g,a2 as o,a3 as c}from"./index-1e3b5e9c.js";class i extends h{constructor(a,t,n){super(a,t,n)}static async connect(){const a=u(),t=await w.getL2BattlePoolData(a);return new i(t.contract_address,t.abi,a)}async getUserBalance(a){const t=await this.contract.getUserBalance(a);return r(t)}async getUserFrozenBalance(a){const t=await this.contract.getUserFrozenBalance(a);return r(t)}async getUserNonce(a){const t=await this.contract.getUserNonce(a);return g(t)}async deposit(a){const t=o(a,18);console.log("bn_amount",t.toString()),await this.checkNetwork();const{hash:n}=await c({...this.getConfig(),functionName:"deposit",args:[],value:BigInt(t.toString())});return await new e().pushTxHash(n,this.chainId),n}async withdraw(a,t){const n=o(a);await this.checkNetwork();const{hash:s}=await c({...this.getConfig(),functionName:"withdraw",args:[n,t]});return await new e().pushTxHash(s,this.chainId),s}}export{i as B};
