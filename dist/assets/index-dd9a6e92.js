import{T as r}from"./publicUnit-82a6e2b0.js";import{C as B}from"./close-ecff6b21.js";import{H as k}from"./nft-order-contract-service-5bd42263.js";import{W as I}from"./webutlis-api-service-ba71ffac.js";import{M as v}from"./bignumber-c053b17e.js";import{an as M,a_ as N,ag as d,ad as P,b3 as S,aj as T,au as U,av as A,a4 as p,aF as n,ah as t,aH as s,b5 as o,bb as D,bk as H,bd as V,bg as j,at as E}from"./index-1e3b5e9c.js";const O=["src"],W={class:"item earn"},$={class:"item_title"},F={class:"item_content"},K={class:"monery"},L={class:"item"},q={class:"item_title"},z={class:"item_content"},G={class:"item mb"},J={class:"item_title"},Q={class:"item_content"},R=M({__name:"index",props:{open:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},info:{type:Object,default:()=>{}}},emits:["close","buyClick"],setup(b,{emit:y}){const{t:c}=N(),a=b,u=d(),g=new I,h=d(()=>u.value),l=d(0),_=d(0),m=y;P(async()=>{var e,i;try{await x(r),_.value=v((e=a.info)==null?void 0:e.price,l.value.price),console.log((i=a.info)==null?void 0:i.price,l.value.price)}catch(f){S(f.message,"error",!1)}}),T(()=>{var e;return(e=a.info)==null?void 0:e.price},e=>{_.value=v(e,l.value.price)});const C=()=>{m("close")},w=()=>{m("buyClick")},x=async e=>{l.value=await g.getAssetPrice(e+"USDT")};return(e,i)=>(U(),A("div",{ref_key:"buyModal",ref:u},[p(t(j),{open:a.open,"onUpdate:open":i[0]||(i[0]=f=>a.open=f),getContainer:h.value,footer:null,maskClosable:!1,onCancel:C,wrapClassName:"content"},{title:n(()=>[p(k,{price:a.info.price,status:"listing",nftInfo:a.info},null,8,["price","nftInfo"])]),closeIcon:n(()=>[s("img",{src:t(B),alt:""},null,8,O)]),default:n(()=>[s("div",W,[s("div",$,o(t(c)("views.fixedPrice.t4")),1),s("div",F,o(a.info.price)+" "+o(t(r)),1)]),s("div",K,"$ "+o(_.value),1),s("div",L,[s("div",q,o(t(c)("views.fixedPrice.t16"))+" 0%",1),s("div",z,"0 "+o(t(r)),1)]),s("div",G,[s("div",J,o(t(c)("views.fixedPrice.t17"))+" 0%",1),s("div",Q,"0 "+o(t(r)),1)]),p(t(D),{spinning:e.$props.loading},{default:n(()=>[p(t(H),{onClick:w},{default:n(()=>[V(o(t(c)("views.fixedPrice.t7")),1)]),_:1})]),_:1},8,["spinning"])]),_:1},8,["open","getContainer"])],512))}});const oe=E(R,[["__scopeId","data-v-f4b2b7fa"]]);export{oe as B};
