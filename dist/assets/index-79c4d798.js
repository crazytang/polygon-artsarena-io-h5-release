import{an as A,a_ as G,bf as V,b1 as F,a$ as q,ag as a,b2 as H,ad as L,au as p,av as N,a4 as i,aH as Y,aF as S,ah as d,aE as B,b6 as $,aY as z,b8 as j,b3 as J,b7 as K,at as Q}from"./index-1e3b5e9c.js";import{N as W}from"./index-b15cedc1.js";import{G as X}from"./index-f374aa73.js";import{D as Z}from"./index-a9c0d02f.js";import{E as ee}from"./index-7deb20c8.js";import{C as ae,R as te}from"./index-1f6fe659.js";import{P as oe}from"./index-cc52a28f.js";import"./delete-e62f0b84.js";import"./arrows_white-d6c56c02.js";import"./Col-006999ba.js";import"./responsiveObserve-f3a612e5.js";import"./useFlexGapSupport-f4e16cef.js";import"./firstNotUndefined-748ee901.js";import"./useBreakpoint-23ddb1b3.js";import"./useMergedState-69e90c89.js";import"./CheckOutlined-f83db689.js";import"./zh_CN-1ca40490.js";const se={class:"nft_list"},le=A({__name:"index",setup(ne){const{t:f}=G(),[ue,O]=[V(),F()],k=new j,I=q(),m=a(1),s=a(),g=a(0),y=a(""),C=a(""),R=f("views.create.nftItem.t2"),U=f("views.create.nftItem.t1"),l=a(12),u=a(!1),h=a(""),_=a(""),x=a(!1),r=a(!1),{chain:n}=H(),D=()=>{x.value=!1,r.value=!1,u.value=!1},E=(e,t)=>{b(t*(e-1),t)};L(()=>{b(l.value*(m.value-1),l.value)});const b=async(e,t)=>{var c,o,v;s.value=await k.getImage(I.address,{start:e,length:t,chainId:n==null?void 0:n.id}),g.value=Number((c=s.value)==null?void 0:c.total),g.value>0&&(y.value=(o=s.value)==null?void 0:o.data[0].name,C.value=(v=s.value)==null?void 0:v.data[0].symbol)},M=e=>{h.value=e.tokenId,_.value=e.imageUri,u.value=!0},P=async()=>{r.value=!0,k.delImage(I.address,{tokenId:h.value,imageUri:_.value,chainId:n==null?void 0:n.id}).then(e=>{console.log(e),b(l.value*(m.value-1),l.value),u.value=!1,r.value=!1,J(f("views.create.nftItem.t3"),"success",!1,2)}).catch(e=>{console.error(e),r.value=!1,u.value=!1})},w=()=>{O.push({path:"/create/uploaded",query:{name:y.value,symbol:C.value}})};return(e,t)=>{var c;return p(),N(z,null,[i(X,{onActive:w}),Y("div",se,[i(d(te),{gutter:[10,10]},{default:S(()=>{var o;return[(p(!0),N(z,null,K((o=s.value)==null?void 0:o.data,(v,T)=>(p(),B(d(ae),{span:4,key:T},{default:S(()=>[i(W,{data:v,onDelete:M},null,8,["data"])]),_:2},1024))),128))]}),_:1}),((c=s.value)==null?void 0:c.data.length)==0?(p(),B(ee,{key:0,class:"empty",onGoPage:w,btnText:d(R),content:d(U)},null,8,["btnText","content"])):$("",!0)]),i(d(oe),{class:"pagination",current:m.value,"onUpdate:current":t[0]||(t[0]=o=>m.value=o),total:g.value,onChange:E,showSizeChanger:!1,hideOnSinglePage:"",pageSize:l.value,"onUpdate:pageSize":t[1]||(t[1]=o=>l.value=o)},null,8,["current","total","pageSize"]),i(Z,{open:u.value,onCloseModal:D,onOk:P,single:!1,del:!0,img:_.value,loadClose:x.value,loadOk:r.value,all:!1},null,8,["open","img","loadClose","loadOk"])],64)}}});const we=Q(le,[["__scopeId","data-v-bdf10c11"]]);export{we as default};
