var Ft=Object.defineProperty;var Mt=(a,t,x)=>t in a?Ft(a,t,{enumerable:!0,configurable:!0,writable:!0,value:x}):a[t]=x;var k=(a,t,x)=>(Mt(a,typeof t!="symbol"?t+"":t,x),x);import{al as Et,am as be,an as Ce,ag as v,a_ as Te,bf as Le,b1 as Ue,a$ as Oe,aj as Ke,bi as Lt,ad as Be,bw as Ut,bV as Xe,au as l,av as d,aH as e,ah as s,bc as V,br as we,b5 as o,aE as oe,b6 as C,bh as Pe,a4 as F,aF as U,bd as z,aY as ue,b3 as L,be as Ze,cj as Rt,bk as Fe,ck as ae,bb as Ee,bg as It,b9 as Qe,ba as Ve,at as Se,b0 as He,$ as ze,b2 as kt,bx as ut,bB as Ot,bv as Qt,aL as Vt,bu as Pt,bq as Ne,b7 as _e,aa as ft,b8 as Gt,bj as $e,b4 as $t}from"./index-1e3b5e9c.js";import{P as ht,a as We,M as Je,D as qt}from"./bignumber-c053b17e.js";import{N as bt}from"./nft-data-00f9cd4d.js";import{a as Ge}from"./match-data-ext-5e1df082.js";import{T as fe}from"./publicUnit-82a6e2b0.js";import{N as Dt}from"./next-2b6d53fd.js";import{T as vt}from"./index-f42bfe17.js";import{u as zt}from"./match-utils-793d0e6d.js";import{M as Jt}from"./magnifier-api-service-8e21454b.js";import{C as Nt}from"./index-1a933474.js";import{M as et}from"./match-api-service-85ee51bf.js";import{M as Kt}from"./enums-1cf4aa58.js";import{M as jt}from"./match-service-ebe62e39.js";import{R as Yt}from"./air-drop-2b775382.js";import{a as ye}from"./formattDecimal-b5d82fb2.js";import{R as Ht}from"./RightOutlined-8341334e.js";import{C as Wt}from"./chain-api-service-e57c2855.js";import{P as pt}from"./index-dd31fe32.js";import{d as gt,a as Xt}from"./TimeFormatting-2526bf3a.js";import{T as Zt}from"./index-e391fd95.js";import{I as mt}from"./index-d8bf6a34.js";import{a as es,C as ts}from"./index-2dfa979d.js";import{C as ss}from"./collection-api-service-816a6e5a.js";import"./firstNotUndefined-748ee901.js";import"./erc721-service-bd0ec81e.js";import"./transaction-api-service-8b388dbb.js";import"./utils-518c8eb5.js";import"./contract-data-service-bee1e717.js";import"./battle-contract-service-bdced59b.js";import"./challenge-api-service-8347c7e6.js";import"./constants-2bfeaeae.js";import"./AntdIcon-17d0cbb0.js";import"./css-1021bd93.js";import"./useMergedState-69e90c89.js";import"./collapseMotion-84702878.js";import"./collection-data-v2-15891f6d.js";const as="/assets/img-win-ea7ea7a5.png",os="data:image/png;base64,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";class De{constructor(t){k(this,"matchId");k(this,"stage");k(this,"voter");k(this,"votedNft");k(this,"votedNftTokenId");k(this,"ntfOwner");k(this,"votedAt");k(this,"extraSignature");k(this,"voterSignature");k(this,"merkleTreeData");k(this,"merkleTreeHashLeaf");this.matchId=t.matchId,this.stage=t.stage,this.voter=t.voter,this.votedNft=t.votedNft,this.votedNftTokenId=Number(t.votedNftTokenId),this.ntfOwner=t.ntfOwner,this.votedAt=t.votedAt,this.extraSignature=t.extraSignature,this.voterSignature=t.voterSignature,this.merkleTreeData=t.merkleTreeData?new ns(t.merkleTreeData):null,this.merkleTreeHashLeaf=t.merkleTreeHashLeaf}}let ns=class{constructor(t){k(this,"matchId");k(this,"merkleTreeRoot");k(this,"merkleTreeUri");k(this,"merkleTreeJson");k(this,"isLatest");this.matchId=t.matchId,this.merkleTreeRoot=t.merkleTreeRoot,this.merkleTreeUri=t.merkleTreeUri,this.merkleTreeJson=t.merkleTreeJson,this.isLatest=t.isLatest}};class At{constructor(t){k(this,"matchId");k(this,"stage");k(this,"voter");k(this,"votedNft");k(this,"votedNftTokenId");k(this,"ntfOwner");k(this,"votedAt");k(this,"extraSignature");k(this,"voterSignature");k(this,"merkleTreeData");k(this,"merkleTreeHashLeaf");k(this,"nftData");k(this,"matchDataExt");this.matchId=t.matchId,this.stage=t.stage,this.voter=t.voter,this.votedNft=t.votedNft,this.votedNftTokenId=Number(t.votedNftTokenId),this.ntfOwner=t.ntfOwner,this.votedAt=t.votedAt,this.extraSignature=t.extraSignature,this.voterSignature=t.voterSignature,this.merkleTreeData=t.merkleTreeData?new is(t.merkleTreeData):null,this.merkleTreeHashLeaf=t.merkleTreeHashLeaf,this.nftData=new bt(t.nftData),this.matchDataExt=new Ge(t.matchDataExt)}}class is{constructor(t){k(this,"matchId");k(this,"merkleTreeRoot");k(this,"merkleTreeUri");k(this,"merkleTreeJson");k(this,"isLatest");this.matchId=t.matchId,this.merkleTreeRoot=t.merkleTreeRoot,this.merkleTreeUri=t.merkleTreeUri,this.merkleTreeJson=t.merkleTreeJson,this.isLatest=t.isLatest}}class tt extends Et{async getUserVoteDataListByMatchId(t,x,p){const f=this.gateway+"/user-vote/match/"+t+"?page="+x+"&page_size="+p,m=await be.get(f);return this.checkResponse(m),m.data.data.map(w=>new De(w))}async getUserVoteDataListByMatchIdAndUserAddress(t,x,p,f){const m=this.gateway+"/user-vote/user/"+t+"/"+x+"?page="+p+"&page_size="+f,c=await be.get(m);return this.checkResponse(c),c.data.data.map(h=>new De(h))}async getUserVoteDataListByUserAddress(t,x,p){const f=this.gateway+"/user-vote/user/"+t+"?page="+x+"&page_size="+p,m=await be.get(f);return this.checkResponse(m),m.data.data.map(w=>new De(w))}async getUserVoteDataExtListByUserAddress(t,x,p){const f=this.gateway+"/user-vote/user-ext/"+t+"?page="+x+"&page_size="+p,m=await be.get(f);return this.checkResponse(m),m.data.data.map(w=>new At(w))}async getUserVoteDataExtListByNftAddress(t,x,p=0,f=0){const m=this.gateway+"/user-vote/nft-ext/"+t+"/"+x+"?page="+p+"&page_size="+f,c=await be.get(m);return this.checkResponse(c),c.data.data.map(h=>new At(h))}async getLastUserVoteDataByMatchIdAndUserAddress(t,x){const p=this.gateway+"/user-vote/last/"+t+"/"+x,f=await be.get(p);this.checkResponse(f);const m=f.data.data;return!m||m.matchId===void 0?null:new De(m)}async getUserVoteDataListByMatchIdAndNftAddress(t,x,p,f,m){const c=this.gateway+"/user-vote/nft/"+t+"/"+x+"/"+p+"?page="+f+"&page_size="+m,w=await be.get(c);return this.checkResponse(w),w.data.data.map(u=>new De(u))}async verifierHashUserVote(t,x,p,f,m,c,w){const h={matchId:t,stage:x,votedNft:p,votedNftTokenId:f,voter:c,ntfOwner:m,extraSignature:"",voterSignature:"",chainId:w},u=this.gateway+"/user-vote/verifier-sign",b=await be.post(u,h);this.checkResponse(b);const D=b.data.data;return new De(D)}async updateSignature(t){if(t.extraSignature==="")throw new Error("extraSignature is empty");if(t.voterSignature==="")throw new Error("voterSignature is empty");const x=this.gateway+"/user-vote/update-sign",p=await be.post(x,t);return this.checkResponse(p),new De(p.data.data)}}const ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWAAAAAgCAYAAAAsTqKUAAAAAXNSR0IArs4c6QAAAdFJREFUeF7t2cFtwzAQRFGyB/dfoXuQYbXwD4sFXu4CE2Nm9Ojc53k+J/zce7/h8eN8n3/Jj/zpX8nP9P7c6V/A+Qa4FMgAG+CSn+n9McBuAG5AocFeAF4AIT7HABtgAxwaZIANcIiPAZ6+gjjfVzCpwP4Hs/p/UARMwAQcFpCACTjEh4AJlEBTgQh0tUCn+0/ABEzAYYEJmIBDfAh4+g3ofAJPBSbw1QInYAIm4LCABEzAIT4ETKAEmgpEoKsFOt1/AiZgAg4LTMAEHOJDwNNvQOcTeCowga8WOAETMAGHBSRgAg7xIWACJdBUIAJdLdDp/hMwARNwWGACJuAQn3PLw/9np98gzifYkmEDakBLfvL+lMMNsBdQDqArvCt8GKH1+Qt/+/vo+g/AABiAUAL5dwML8fEVhCuoK2gpkAE2wCU/vgMmYAIODTLABjjEh4AJmIBLgQywAS75IWACJuDQIANsgEN8CJiACbgUyAAb4JIfAiZgAg4NMsAGOMSHgAmYgEuBDLABLvkhYAIm4NAgA2yAQ3wImIAJuBTIABvgkh8CJmACDg0ywAY4xIeACZiAS4EMsAEu+SFgAibg0CADbIBDfAiYgAm4FMgAG+CSnx+2znF8JrnYKAAAAABJRU5ErkJggg==",rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAAAgCAYAAACSAkV9AAAAAXNSR0IArs4c6QAAAzdJREFUeF7t3cFRxTAQBFE7B/KPkBxMkcL2QaXaxx1+Scz0jFY2vN/3/Tzh633f3/Dtj8+3/0U/9Md/RT/4gz9FP/iDP0U/mT/5ByhwCmxQMP0J0CCfR4AK0KIf/MGfop/j/CFgAr5awA4QDhBBwPiHf0E+DhD4e5a/AAZgADbfgeMnMAA9C1D7b//n+PAIkUe42iNsCpwCF/jjBCrABXgwEP7ib5AP/m7nL4AACIDMd8AEzjNYc/U8JjAmMG0Cs73AbF+/AqfAlQBSYBSYoh/8wZ+iH/zBn6Kf6/lz/QK2N3Drd4UXCMb/ClSQjys8/MXfYKDM3/wDCJiATwqY/uiP/sY7gP8K/Fg8z6PAn84fBmZgBp7vgCscVzhz9XgGTv7In+Kf9fxlIAZioPkOrAfI6ROozzeBndvXSyReIrn7JRIFToEL/DNCVyAUiGAg/MXfIB/83c5fAAEQAJnvgAmcK9S5elyhyh/5U/yznr8MxEAMNN+B9QDZfgK2fhPYOT5c4brCbVe4CpwCF/hjhC/ABXgwEP7ib5AP/m7nL4AACIDMd8AEzhXqXD2uUOWP/Cn+Wc/fsnn/38uADFg0tN6A20+Q1m+CGQAif+RPkM/1E8y3LF6BU2ABFEALQxR4E8yiH/zBn6Kf2/mjwJkAmAAEAggQARLkc/0EgP7pn/7nO1ALpAKnwClwc/95hMBbZO0tMvzBH/wZ78D2A4QCB6AAOsaHK/TtALV+E6iADxNY+ZvyV4EjoCQgASbABNh8B+oVCv/x31x9/hn97f5T4BQ4BS4QUIAK0CAfExj8xd9goO38VeAABEAAZLwD2wFq/Qr82DyPCdjtE7DT/lfgFDgFLhD4tIF9vgIR5GsCiP/4Hwx0mr8KHAMz8MUGPg0Qn69ABvsokPJH/gQDKXAMxEDBQAqMAhPko8DgL/4GA23nrwIHIAACIOMd2A5Q61fgx+bxDJwDTOwfClzcQAAHcACf74CHmP0rrbl6/B1G+bM7fxQ4Bc4ELiQIgO4GqN+/33/AhwmU/E35q8ARUBKQABNgAmy+AyaQJpBz9ZhAbs8fBU6BU+ACQbcDxPoV+GAfEyj5I3+Cgf4ABNixuFJgIqoAAAAASUVORK5CYII=",cs=a=>(Qe("data-v-7471209b"),a=a(),Ve(),a),ds={class:"space-y-6 fightInfoItem"},us={class:"pb-[10px] space-y-3 section"},fs=["src"],hs={key:2,class:"result-tag"},vs=["src"],ps=["src"],gs={key:4,class:"nft-bottom-info pb-[15px] px-2.5"},ms={class:"w-2/3 text-white omit"},As={key:0},ws={key:1},_s={key:0},ys={key:1},Cs={class:"text-sm font-bold"},xs=cs(()=>e("span",{class:"text-xs font-autom"},"01:36:28",-1)),Is={key:0},ks={key:1,class:"text-[20px]"},bs={key:0,class:"flex items-center justify-between mx-[15px] m_purchase"},Ds={class:"flex flex-col"},Ns={class:"text-[15px] text-white/[0.5] pb-2"},Ts={key:1,class:"flex items-center justify-between mx-[30px] m_over_bg"},Bs=["src"],Ss={class:"img_right m_texture"},Fs=["src"],Ms={key:0,style:{border:"1px solid rgba(255, 255, 255, 0.2)"},class:"flex h-[90px] section m_purchased"},Es={class:"flex flex-col items-center justify-center w-1/2",style:{"border-right":"1px solid rgba(255, 255, 255, 0.2)"}},Ls={class:"text-[15px] font-pf f-1 pb-1"},Us={class:"text-[25px] text-white"},Rs={class:"flex flex-col items-center justify-center w-1/2"},Os={class:"text-[15px] font-pf f-1 pb-1"},Qs={class:"text-[25px] text-white"},Vs={class:"modal_title"},Ps=Ce({__name:"index",props:{status:{type:String},position:{type:String,default:"left"},data:{type:Object,default:()=>{}},competitor_role:{type:String,default:"arena"},isShowComponent:{type:String,default:""},nft_data:{type:Object,default:()=>{}},loading:{tyep:Boolean,default:!1},modal:{type:Boolean,default:!1},isMyCreates:{type:Boolean}},emits:["toView","voteNFT","nftDetail","burnNFT","closeModal","burnBy","openModal"],setup(a,{emit:t}){var pe;const x=v(),p=v(()=>x.value),{t:f}=Te(),[m,c]=[Le(),Ue()],w=v(),h=t,u=a,b=v(),D=v(),r=v(),I=v(),y=v(),R=v(),T=v(),M=v(),B=v(),g=v(),E=v(0),Y=Oe(),Z=new tt,ee=v(!1),te=m.query.match_id;Ke(()=>u.data,N=>{const n=N;console.log("match_data_ext",n),B.value=0,u.competitor_role=="arena"?(b.value=n==null?void 0:n.arenaCreatorNFTData.name,D.value=n==null?void 0:n.arenaCreatorNftAddress,r.value=n==null?void 0:n.arenaCreatorNFTData.nftTokenId,I.value=n==null?void 0:n.arenaCreatorNFTData.cacheImageUrl,y.value=n==null?void 0:n.arenaCreatorNftSellPrice,R.value=n==null?void 0:n.arenaCreatorNFTBidPrice,T.value=n==null?void 0:n.arenaBidDataList.length,M.value=n==null?void 0:n.voteArenaCount,B.value=n==null?void 0:n.challengeNftKoScore,g.value=n==null?void 0:n.arenaNftKoScore,E.value=Number(n==null?void 0:n.arenaNftPromotableFee)):(b.value=n==null?void 0:n.challengerNFTData.name,D.value=n==null?void 0:n.challengerNftAddress,r.value=n==null?void 0:n.challengerNFTData.nftTokenId,I.value=n==null?void 0:n.challengerNFTData.cacheImageUrl,y.value=n==null?void 0:n.challengerNftSellPrice,R.value=n==null?void 0:n.challengerNFTBidPrice,T.value=n==null?void 0:n.challengerBidDataList.length,M.value=n==null?void 0:n.voteChallengeCount,B.value=n==null?void 0:n.arenaNftKoScore,g.value=n==null?void 0:n.challengeNftKoScore,E.value=Number(n==null?void 0:n.challengeNftPromotableFee)),u.position=="left"&&u.isShowComponent=="noOpponent"&&(g.value=n==null?void 0:n.arenaCreatorNFTData.koScore),u.position=="right"&&(B.value=0)});const le=()=>{h("closeModal")},G=(N,n,re)=>{var P,A,i,_;const ne=n==null?void 0:n.nftAddress,se=n==null?void 0:n.nftTokenId;return!ne||!se?!0:re=="left"?((P=N==null?void 0:N.arenaCreatorNFTData)==null?void 0:P.nftAddress)==ne&&((A=N==null?void 0:N.arenaCreatorNFTData)==null?void 0:A.nftTokenId)==se:((i=N==null?void 0:N.challengerNFTData)==null?void 0:i.nftAddress)==ne&&((_=N==null?void 0:N.challengerNFTData)==null?void 0:_.nftTokenId)==se},he=N=>{N!=="noOpponent"?c.push({path:"/flashSale/sale",query:{match_id:te,nft_address:D.value,token_id:r.value}}):console.log(N)},J=Lt({width:(pe=w.value)==null?void 0:pe.clientWidth}),ie=v(window.innerWidth>=768),$=()=>{ie.value=window.innerWidth>=768};Be(()=>{console.log("props.nft_data",u.nft_data),Ut(()=>{Rt(w.value,()=>{var N;J.width=(N=w.value)==null?void 0:N.clientWidth})}),ce(),window.addEventListener("resize",$)}),Xe(()=>{window.removeEventListener("resize",$)});const H=async(N,n)=>{var re,ne,se,P,A;if(u.isShowComponent=="playing"&&(ee?h("voteNFT",N):L(f("views.fightInfo.t34"),"error",!1,3)),u.isShowComponent=="over"&&N=="right"&&(n==null?h("openModal"):L(f("views.fightInfo.t49"),"warning",!1,3)),u.isShowComponent=="win"&&N=="left"&&h("nftDetail",u.data),u.isShowComponent=="noOpponent"){const{nftAddress:i,nftTokenId:_}=(re=u.data)==null?void 0:re.arenaCreatorNFTData;c.push({path:"/detail/index",query:{nft_address:i,token_id:_}})}else if(u.isShowComponent=="over"&&N=="left"){console.log(u.data);const i=(ne=u.data)==null?void 0:ne.voteArenaCount,_=(se=u.data)==null?void 0:se.voteChallengeCount;if(i>_){const{nftAddress:S,nftTokenId:O}=(P=u.data)==null?void 0:P.arenaCreatorNFTData;c.push({path:"/detail/index",query:{nft_address:S,token_id:O}})}else{const{nftAddress:S,nftTokenId:O}=(A=u.data)==null?void 0:A.challengerNFTData;c.push({path:"/detail/index",query:{nft_address:S,token_id:O}})}}},W=async()=>{h("burnBy")},K=N=>{h("nftDetail",N)},ce=async()=>{await Z.getLastUserVoteDataByMatchIdAndUserAddress(m.query.match_id,Y.address)?ee.value=!0:ee.value=!1,console.log(ee.value)},ve=()=>{u.isMyCreates||h("toView","ko")},de=N=>{N.target.clientWidth>=N.target.scrollWidth&&(N.target.style.pointerEvents="none")},xe=N=>{ie.value?c.push({path:"/fightInfo/voted_detail",query:{match_id:te}}):N=="left"?c.push({path:"/fightInfo/voted_detail_m",query:{match_id:te,isWinner:"true"}}):N=="right"&&c.push({path:"/fightInfo/voted_detail_m",query:{match_id:te,isWinner:"false"}})};return(N,n)=>{var se;const re=Ze,ne=Fe;return l(),d(ue,null,[e("div",ds,[e("section",us,[e("img",{src:s(ls),alt:"",class:"pl-[6px] w-[176px] pt-[5px] m_texture"},null,8,fs),e("div",{class:V(["relative mx-[15px] mt-[28px]",a.isShowComponent=="over"||a.isShowComponent=="win"?"m_over":""]),ref_key:"imgRef",ref:w},[a.isShowComponent=="noOpponent"&&a.position=="right"?(l(),d("div",{key:0,class:V(["flex items-center justify-center w-full challenge-box",a.isShowComponent=="noOpponent"&&a.position=="right"&&!u.isMyCreates?"select":""]),style:we(`height:${J.width}px`),onClick:ve},o(u.isMyCreates?s(f)("views.fightInfo.await"):s(f)("views.fightInfo.challenge")),7)):(l(),oe(re,{key:1,class:V(["cursor-pointer",{grayscale:a.isShowComponent=="over"||a.isShowComponent=="save",vote:a.isShowComponent=="playing","cursor-pointer":a.isShowComponent=="over"&&a.position=="right"||a.isShowComponent=="noOpponent"}]),src:I.value,onClick:n[0]||(n[0]=P=>{var A;return H(a.position,(A=u.data)==null?void 0:A.winnerNFTData)})},null,8,["class","src"])),a.isShowComponent!=="playing"&&a.isShowComponent!=="noOpponent"?(l(),d("div",hs,[a.isShowComponent!=="over"?(l(),d("img",{key:0,src:s(as),alt:"",class:"m_win"},null,8,vs)):C("",!0),a.isShowComponent==="over"?(l(),d("img",{key:1,src:s(os),alt:"",class:"m_lose"},null,8,ps)):C("",!0)])):C("",!0),a.isShowComponent=="playing"&&G(u.data,u.nft_data,a.position)?(l(),d("div",{key:3,class:V(["absolute",{is_vote_nft:!u.nft_data,no_vote_nft:u.nft_data}]),onClick:n[1]||(n[1]=Pe(P=>{var A;return H(a.position,(A=u.data)==null?void 0:A.winnerNFTData)},["stop"]))},o(u.nft_data?"voted":"vote"),3)):C("",!0),a.position=="left"&&a.isShowComponent=="noOpponent"||a.isShowComponent!=="noOpponent"?(l(),d("div",gs,[e("p",{class:"left-0 flex items-center justify-between w-full px-2 text-[20px] cursor-pointer battle_info",onClick:n[2]||(n[2]=Pe(P=>K(u.data),["stop"]))},[F(s(vt),{onMouseenter:de},{title:U(()=>[z(o(b.value)+" #"+o(r.value),1)]),default:U(()=>[e("span",ms,o(b.value)+" #"+o(r.value),1)]),_:1}),F(s(vt),{onMouseenter:de},{title:U(()=>[e("span",{class:V((["save","over"].includes(a.isShowComponent),"text-white"))},[z(" K.O. "),a.isShowComponent=="over"||a.isShowComponent=="win"?(l(),d("span",As,o(a.position=="left"?g.value+"+"+B.value+"="+s(ht)(g.value,B.value):g.value+"-"+g.value+"="+s(We)(g.value,g.value)),1)):(l(),d("span",ws,o(g.value),1))],2)]),default:U(()=>[e("span",{class:V(["w-1/3 omit text-end",(["save","over"].includes(a.isShowComponent),"text-white")])},[z(" K.O. "),a.isShowComponent=="over"||a.isShowComponent=="win"?(l(),d("span",_s,o(a.position=="left"?g.value+"+"+B.value+"="+s(ht)(g.value,B.value):g.value+"-"+g.value+"="+s(We)(g.value,g.value)),1)):(l(),d("span",ys,o(g.value),1))],2)]),_:1})])])):C("",!0),a.isShowComponent=="save"?(l(),oe(s(Fe),{key:5,class:"box-border absolute flex flex-col items-center justify-center px-12 py-6 -translate-x-1/2 -translate-y-1/2 border-0 rounded-none saveBtn top-1/2 left-1/2",onClick:n[3]||(n[3]=P=>N.$router.push("/teamFight/teamSave"))},{default:U(()=>[e("span",Cs,o(s(f)("views.fightInfo.t17")),1),xs]),_:1})):C("",!0),a.isShowComponent=="over"?(l(),d("div",{key:6,onClick:n[4]||(n[4]=Pe(P=>{var A;return H(a.position,(A=u.data)==null?void 0:A.winnerNFTData)},["stop"])),class:V([{"cursor-pointer":a.isShowComponent=="over"&&a.position=="right"},"absolute -translate-x-1/2 -translate-y-1/2 fightInfo-burn top-1/2 left-1/2 whitespace-nowrap"])},[(se=u.data)!=null&&se.winnerNFTData?(l(),d("span",Is,o(s(f)("views.fightInfo.t33")),1)):(l(),d("div",ks,o(s(f)("views.fightInfo.t32")),1))],2)):C("",!0)],2),["playing","saved","noOpponent"].includes(a.isShowComponent)?(l(),d("div",bs,[e("div",Ds,[e("span",Ns,o(s(f)("views.fightInfo.t7")),1),e("span",{class:V(["text-[25px]",["playing"].includes(a.isShowComponent)||a.position=="right"&&["noOpponent"].includes(a.isShowComponent)?"text-white":"font-primary"])},o(s(ae)(y.value,5))+" "+o(s(fe)),3)]),e("div",{class:V(["w-[220px] py-4 text-xl text-center",a.isShowComponent=="noOpponent"?"ringBtn":a.isShowComponent=="saved"?"saved f-1":"playing font-primary"]),onClick:n[5]||(n[5]=P=>he(a.isShowComponent))},o(s(ae)(R.value,5))+" "+o(s(fe))+" "+o(s(f)("views.fightInfo.t5")),3)])):C("",!0),a.isShowComponent=="over"||a.isShowComponent=="save"||a.isShowComponent=="win"?(l(),d("div",Ts,[e("div",null,[e("p",{class:V(["text-[25px] flex items-end leading-[30px]",{grayscale:["over","save"].includes(a.isShowComponent),"text-[#fff]":!["over","save"].includes(a.isShowComponent),"lose-text":["over","save"].includes(a.isShowComponent)}])},[z(o(M.value)+" ",1),e("span",{class:"jump",onClick:n[6]||(n[6]=P=>xe(u.position))},[z(o(s(f)("views.fightInfo.t18"))+" ",1),e("img",{src:s(Dt),alt:""},null,8,Bs)])],2)]),e("div",{class:V(["text-xl",{grayscale:["over","save"].includes(a.isShowComponent),"line-through":["over","save"].includes(a.isShowComponent),"lose-text":["over","save"].includes(a.isShowComponent),"font-primary":!["over","save"].includes(a.isShowComponent)}])}," K.O. "+o(a.position=="left"?"+"+B.value:"-"+g.value),3)])):C("",!0),e("div",Ss,[e("img",{src:s(rs),alt:"",class:"pr-[7px] w-[296px]"},null,8,Fs)])]),a.isShowComponent=="playing"||a.isShowComponent=="saved"||a.isShowComponent=="noOpponent"?(l(),d("section",Ms,[e("div",Es,[e("span",Ls,o(s(f)("views.fightInfo.t8")),1),e("span",Us,o(T.value),1)]),e("div",Rs,[e("span",Os,o(s(f)("views.fightInfo.t9")),1),e("span",Qs,o(s(ae)(E.value,5))+" "+o(s(fe)),1)])])):C("",!0)]),e("div",{ref_key:"aModal",ref:x},[F(s(It),{open:u.modal,"onUpdate:open":n[7]||(n[7]=P=>u.modal=P),centered:"",keyboard:!1,onCancel:le,maskClosable:!1,okText:s(f)("views.fightInfo.buttonT"),width:460,height:236,getContainer:p.value},{footer:U(()=>[F(s(Ee),{spinning:u.loading},{default:U(()=>[F(ne,{onClick:W,class:"vote_ok"},{default:U(()=>[z(o(s(f)("views.fightInfo.buttonT")),1)]),_:1})]),_:1},8,["spinning"])]),default:U(()=>[e("div",Vs,o(s(f)("views.fightInfo.burnNft")),1)]),_:1},8,["open","okText","getContainer"])],512)],64)}}});const wt=Se(Ps,[["__scopeId","data-v-7471209b"]]),Gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAWdJREFUaEPt2u0JgzAQBuDoBl2lG1i6iqgjuUtnKPRPd2j/uIEWQYuIFJvcx3smDpDw3BsDnpe5yJ4sMq9L4KMnnhJOCR+sAlBHum3b81jfqqruXHWGAU/Y2wS9cqEhwAvsaQJ3zjkWtDp4AzufZha0KvgH9osehqGo6/pB9U6rgXdgR+Oz7/uiaZq3abAWdiyaeMKaWHGwNlYUjIAVA6NgRcBIWHYwGpYVjIhlA6NiWcDIWHIwOpYUbAFLBraCJQFbwgaDrWGDwBax3mCrWHZwnueXsixfVN0KinW8GwB7U0ZDe4PHaltEB4EtooPB1tAkYEtoMrAVNCnYApocjI5mASOj2cCoaFYwIpodjIYWAf+Dpv49uv7gEAOjoEXBCGhxsDZaBayJVgPvRHeHGWqZb8+oxpZ+oFlmtLybeBTNtPUaUY0erpKOY7iU49Rsral6S0shl/sksEbVJfdMCUtWW2Ov6BL+AKDyWUzGZIPgAAAAAElFTkSuQmCC",_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAYJJREFUaEPt2jFOw0AQBdBxIqUhFLkKN0iIBAV3RYpSwhUipckdoKGiCzFawJIVEWHs+TN/vOvKhbWrN3+9ktdTSWZXlZlXCnjsiZeES8IjqwDVkn5+f7hJ9b292u5QdaYBJ2w9kacErU6yRqEpwA22Fll8gUXeUGh38Dm2WcootCv4EraNPk5leT/b7rXeaTfwX9hvYH04HWfLu+vH19BgL+zP/qBVu27jeGLNwd5YUzAD1gzMgjUBM2HhYDYsFMyIhYFZsRAwM1YdzI5VBUfAqoGjYFXAkbCDwdGwg8ARsb3BUbFwcPUxXa3nm5duX8o2T/U+4umaMhu6NzjlERE9CBwRPRgcDa0CjoRWA0dBq4IjoNXB7GgImBkNA7OioWBGNBzMhjYB/wet/Xv0/JPEDMyCNgUzoM3B3mgXsCfaDdwFnTp5RtPU0uyeWbUtXUKjerR6H+Ihjtuyaj1sJ53uUX2WVAkjVs1vY7ru0lbI9jwF7FF1yzlLwpbV9pgru4Q/Acwgy0youLD2AAAAAElFTkSuQmCC",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAWhJREFUaEPt2jFOw0AQheFxSEeVBu5Ag8QVSBlF4q4UIAVyA66SIkkTKTHaCEvIElQz835515Ura7959soeT2eVHV1lXmvgqSfeEm4JT6wCobf0x3H1VOr1fPv6RalbGLhg+5ltCrS72JKCDgEP2N5scQWb7Shod/AYO9zKFLQr+O20epyfbTskO35uCWhX8Pv+5W42P23Nuoe/Nik12hVckHS0O5iODgGT0WFgKjoUTESHg2noFDAJnQamoFPBBHQ6WI2WgJVoGViFloIVaDk4G40AZ6Ix4Cw0CpyBxoE3h/V9f3P+jOqaoMDR2J8OKqNFnoHFgLOwCHAmVg7OxkrBCqwMrMJKwEpsOliNTQUTsGlgCjYFTMKGg2nYUDD1t2nI1xIVG5IwGesOpmPdwdUNtZQKVjW2NPROqhpMG6Ovz83URw9/o8s5Zc7SfdNitAP/X0XIiwcZ3sDkdDzW1hL2qCL5GtUl/A3DI3pMQBo5xAAAAABJRU5ErkJggg==",st=a=>(Qe("data-v-4d4b19b4"),a=a(),Ve(),a),$s={class:"flex items-center justify-between fight"},qs=["src"],zs={key:0,class:"playing"},Js={class:"text-xl font-primary m_voted"},Ks=["src"],js=st(()=>e("p",{class:"text-[100px] text-white m_vs"},"VS",-1)),Ys=["src"],Hs={class:"text-xl f-2 m_down_time"},Ws={key:1,class:"no_opponent"},Xs={class:"text-xl text-[#FFFFFF]/[0.5] m_active"},Zs=st(()=>e("p",{class:"text-[100px] text-white m_vs"},"VS",-1)),ea=st(()=>e("p",{class:"text-xl text-[#FFFFFF]/[0.5] m_active"},"00:00:00",-1)),ta={key:2,class:"text-6xl text-white over"},sa=["src"],aa={class:"modal_title"},oa={class:"vote_nft"},na=Ce({__name:"FightInfo",props:{data:{type:Ge,default:()=>{}},vote_data:{type:De,default:()=>{}},isShowCom:{type:String,default:""},nft_data:{type:bt,default:()=>{}},isMyCreate:{type:Boolean},randomNum:{type:Number}},emits:["getNewDate"],setup(a,{expose:t,emit:x}){const p=v(),f=v(()=>p.value),{t:m}=Te(),c=Ue(),w=Le(),h=v(),u=v("arena"),b=v("challenge"),D=v(!1),r=v(""),I=v(""),y=v(!1),{open:R}=He(),T=x,{match_id:M,quick:B}=w.query||{},g=new et,E=new Yt,Y=Oe(),Z=v(!1),ee=v(!1),te=ze();v(Gs),v(Dt);const{chain:le}=kt(),G=a;Ke(()=>G.data,i=>{h.value=i});const he=G.data,J=v(window.innerWidth>=768),ie=()=>{J.value=window.innerWidth>=768};Be(async()=>{h.value=G.data,G.isShowCom=="over"&&(he.winner==he.arenaCreatorAddress?(u.value="arena",b.value="challenge"):(u.value="challenge",b.value="arena")),window.addEventListener("resize",ie),ve()}),Xe(()=>{window.removeEventListener("resize",ie)});async function $(i){i==="ko"&&(G.isMyCreate?L(m("views.ring.t16"),"error",!1,2):c.push(`/ring/challengeRing?match_id=${M}`))}const H=v(1),W=v(2),K=v(3),ce=v("false"),ve=()=>{if(G.randomNum===1){const i=H.value;H.value=K.value,K.value=i,ce.value="true"}};t({isSwap:ce});const de=async i=>{var _,S,O,X;G.nft_data?L(m("views.fightInfo.t34"),"error",!1):(D.value=!0,I.value=i,i=="left"?r.value=((_=h.value)==null?void 0:_.arenaCreatorNFTData.name)+" #"+((S=h.value)==null?void 0:S.arenaCreatorNFTData.nftTokenId):i=="right"&&(r.value=((O=h.value)==null?void 0:O.challengerNFTData.name)+" #"+((X=h.value)==null?void 0:X.challengerNFTData.nftTokenId)))},xe=()=>{D.value=!1},pe=async()=>{let i=I.value;y.value=!0;try{if(!M){L(m("views.fightInfo.t35"),"error",!1);return}let _=!1;if(i=="left")_=!0;else if(i=="right")_=!1;else throw new Error("vote error");if(!Y.address){y.value=!1,D.value=!1,R();return}if(!await new Jt().checkUserHasMagnifier(Y.address)){B?L("You need to have a magnifier to vote","error",!1,2,()=>{c.push({path:"/buyMangifier/index",query:{match_id:M,quick:"quick"}})}):L("You need to have a magnifier to vote","error",!1,2,()=>{c.push({path:"/buyMangifier/index",query:{match_id:M}})});return}const X=h.value,j=M,me=new tt,Ie=await me.getLastUserVoteDataByMatchIdAndUserAddress(j,Y.address);if(console.log("_my_vote_data",Ie),Ie&&Ie.voterSignature){L(m("views.fightInfo.t34"),"error",!1),y.value=!1,D.value=!1;return}const Me=1;let Q,ke="";if(_?Q=await me.verifierHashUserVote(j,Me,X.arenaCreatorNftAddress,Number(X.arenaCreatorTokenId),X.arenaCreatorAddress,Y.address,te):Q=await me.verifierHashUserVote(M,2,X.challengerNftAddress,Number(X.challengerTokenId),X.challengerAddress,Y.address,te),console.log("user_vote_data",Q),!Q.merkleTreeData){L("User Vote Data[MerkleTreeData] is empty","error",!1);return}ke=zt(Q.matchId,Q.stage,Q.votedNft,Q.votedNftTokenId,Q.voter,Q.merkleTreeData.merkleTreeRoot,Q.extraSignature),console.log("user_vote_hash",ke),Q.voterSignature=await Qt(ke);const q={matchId:Q.matchId,stage:Q.stage,voter:Q.voter,votedNft:Q.votedNft,votedNftTokenId:Q.votedNftTokenId,ntfOwner:Q.ntfOwner,extraSignature:Q.extraSignature,voterSignature:Q.voterSignature,chainId:te};Q=await me.updateSignature(q),await E.everyDayVote(Y.address,{itemType:"vote",chainId:le==null?void 0:le.id}),console.log(i),L(m("views.fightInfo.t37"),"success",!1,2,()=>{T("getNewDate")}),y.value=!1,D.value=!1}catch(_){L(_.message,"error",!1),y.value=!1,D.value=!1}},N=(i,_)=>{if(!i.matchEndTime){c.push({path:"/detail/index",query:{nft_address:i.arenaCreatorNFTData.nftAddress,token_id:i.arenaCreatorNFTData.nftTokenId}});return}const S=new Date(i.matchEndTime).getTime();new Date().getTime()>S?_=="left"?i.winner==i.arenaCreatorAddress?c.push({path:"/detail/index",query:{nft_address:i.arenaCreatorNFTData.nftAddress,token_id:i.arenaCreatorNFTData.nftTokenId}}):c.push({path:"/detail/index",query:{nft_address:i.challengerNFTData.nftAddress,token_id:i.challengerNFTData.nftTokenId}}):i.winner!==i.arenaCreatorAddress?c.push({path:"/detail/index",query:{nft_address:i.arenaCreatorNFTData.nftAddress,token_id:i.arenaCreatorNFTData.nftTokenId}}):c.push({path:"/detail/index",query:{nft_address:i.challengerNFTData.nftAddress,token_id:i.challengerNFTData.nftTokenId}}):_=="left"?c.push({path:"/detail/index",query:{nft_address:i.arenaCreatorNFTData.nftAddress,token_id:i.arenaCreatorNFTData.nftTokenId}}):c.push({path:"/detail/index",query:{nft_address:i.challengerNFTData.nftAddress,token_id:i.challengerNFTData.nftTokenId}})},n=()=>{c.go(0)},re=async()=>{ee.value=!0;try{const i=await g.getMatchDataExtByMatchId(M);if(!i)return L(m("views.fightInfo.t50"),"error",!1,2,()=>{c.back()}),!1;if(i.matchStatus!=Kt.STARTED)return L(m("views.fightInfo.t51"),"error",!1,2,()=>{c.back()}),!1;if(i.matchEndTime>new Date)return L(m("views.fightInfo.t52"),"error",!1,2,()=>{c.back()}),!1;if(!Y.address){const{open:S}=He();S(),ee.value=!1,Z.value=!1;return}if(!await Ot(Y.address,ze()))return L(m("views.fightInfo.t54",{unit:fe}),"error",!1),!1;const _=await jt.determine(M);L(m("views.fightInfo.t55"),"success",!1,3,()=>{T("getNewDate")}),ee.value=!1,Z.value=!1}catch(i){L(i.message,"error",!1),ee.value=!1,Z.value=!1}},ne=()=>{Z.value=!1},se=()=>{Z.value=!0},P=ut.throttle(async()=>{try{const{prev:i,next:_}=await g.getPrevAndNextMatchId(M);i?c.push({path:"/fightInfo/index",query:{match_id:i,quick:B}}):L("This is the first battle","warning",!1)}catch(i){L(i.message,"error",!1)}},1e3),A=ut.throttle(async()=>{try{const{prev:i,next:_}=await g.getPrevAndNextMatchId(M);_?c.push({path:"/fightInfo/index",query:{match_id:_,quick:B}}):L("This is the last battle","warning",!1)}catch(i){L(i.message,"error",!1)}},1e3);return(i,_)=>{var O,X;const S=Fe;return l(),d(ue,null,[e("div",$s,[a.isShowCom=="playing"?(l(),d("div",{key:0,class:"btn btn_last",onClick:_[0]||(_[0]=(...j)=>s(P)&&s(P)(...j))},[e("img",{src:s(_t),alt:""},null,8,qs)])):C("",!0),e("section",{class:"section",style:we(!J.value&&G.isShowCom=="playing"?{order:H.value}:{})},[F(wt,{onVoteNFT:de,position:"left",onNftDetail:_[1]||(_[1]=j=>N(a.data,"left")),data:h.value,competitor_role:u.value,isShowComponent:["over"].includes(a.isShowCom)?"win":a.isShowCom,nft_data:a.nft_data},null,8,["data","competitor_role","isShowComponent","nft_data"])],4),e("section",{class:"text-center f-1 pb-26 center section",style:we(!J.value&&G.isShowCom=="playing"?{order:W.value}:{})},[G.isShowCom=="playing"?(l(),d("div",zs,[e("p",Js,o((O=h.value)==null?void 0:O.voteCount)+" "+o(s(m)("views.fightInfo.voted")),1),e("img",{src:s(_t),alt:"",class:"m_active",onClick:_[2]||(_[2]=(...j)=>s(P)&&s(P)(...j))},null,8,Ks),js,e("img",{src:s(yt),alt:"",class:"m_active",onClick:_[3]||(_[3]=(...j)=>s(A)&&s(A)(...j))},null,8,Ys),e("p",Hs,[F(Nt,{value:new Date((X=h.value)==null?void 0:X.matchEndTime).getTime(),format:"HH:mm:ss",onFinish:n},null,8,["value"])])])):G.isShowCom=="noOpponent"?(l(),d("div",Ws,[e("p",Xs,"0 "+o(s(m)("views.fightInfo.voted")),1),Zs,ea])):(l(),d("p",ta,"K.O."))],4),e("section",{class:"section",style:we(!J.value&&G.isShowCom=="playing"?{order:K.value}:{})},[F(wt,{position:"right",onToView:$,onVoteNFT:de,data:h.value,competitor_role:b.value,onNftDetail:_[4]||(_[4]=j=>N(a.data,"right")),isShowComponent:a.isShowCom,nft_data:a.nft_data,loading:ee.value,modal:Z.value,onBurnBy:re,onCloseModal:ne,onOpenModal:se,isMyCreates:a.isMyCreate},null,8,["data","competitor_role","isShowComponent","nft_data","loading","modal","isMyCreates"])],4),a.isShowCom=="playing"?(l(),d("div",{key:1,class:"btn btn_next",onClick:_[5]||(_[5]=(...j)=>s(A)&&s(A)(...j))},[e("img",{src:s(yt),alt:""},null,8,sa)])):C("",!0)]),e("div",{ref_key:"aModal",ref:p},[F(s(It),{open:D.value,"onUpdate:open":_[6]||(_[6]=j=>D.value=j),centered:"",keyboard:!1,onCancel:xe,maskClosable:!1,okText:s(m)("views.fightInfo.buttonT"),width:380,getContainer:f.value},{footer:U(()=>[F(s(Ee),{spinning:y.value},{default:U(()=>[F(S,{onClick:pe,class:"vote_ok event_vote_nft"},{default:U(()=>[z(o(s(m)("views.fightInfo.buttonT")),1)]),_:1})]),_:1},8,["spinning"])]),default:U(()=>[e("div",aa,o(s(m)("views.fightInfo.target")),1),e("div",oa,o(r.value),1)]),_:1},8,["open","okText","getContainer"])],512)],64)}}});const ia=Se(na,[["__scopeId","data-v-4d4b19b4"]]),Tt=a=>(Qe("data-v-7307943d"),a=a(),Ve(),a),la={class:"flex py-[25px] px-5 flashSale mb-[31px] mt-[61px] default-family"},ra={class:"flex flex-shrink-0 w-1/2",style:{"border-right":"1px solid #3a3a3a"}},ca={class:"w-1/2 space-y-2"},da={class:"text-[15px] f-1"},ua={class:"space-x-1 leading-[50px] text-white font-f"},fa={key:0,class:"text-xl"},ha={key:1,class:"text-[13px] f-1"},va={class:"text-[15px] f-1"},pa={class:"w-1/2 space-y-1"},ga={class:"text-[15px] f-1"},ma={class:"text-[25px] text-white leading-[50px]"},Aa={key:0,class:"flex-shrink-0 w-1/2 pl-6 space-y-2"},wa={class:"text-[15px] f-1"},_a={class:"flex items-center justify-between"},ya={class:"space-x-1 font-primary leading-[50px] font-f"},Ca={key:0,class:"text-xl"},xa={key:1,class:"flex flex-shrink-0 w-1/2 pl-6"},Ia={class:"w-1/2 space-y-2"},ka={class:"text-xs f-1"},ba={class:"space-x-1 text-white"},Da=Tt(()=>e("span",{class:"text-3xl"},"8.657",-1)),Na={class:"text-sm"},Ta={class:"w-1/2"},Ba={class:"text-xs f-1"},Sa=Tt(()=>e("p",{class:"text-xl text-white"},"0x48c…893ed",-1)),Fa={class:"text-xs f-1"},Ma=Ce({__name:"FlashSale",props:{data:{type:Ge,default:()=>{}},isShowCom:{type:String,default:""}},setup(a){const{t}=Te(),[x,p]=[Le(),Ue()],f=()=>{if(m.data.winnerNFTData)if(I.value==0){p.push("/extendExpense/index");return}else p.push({path:"/extendExpense/setAvatar",query:{match_id:x.query.match_id}});else{L(t("views.challenge.gameOver.t5"),"warning",!1);return}},m=a,c=v(),w=v(),h=v(0),u=v(0),b=v(""),D=v(0),r=v(0),I=v(0),y=m.data;Vt(y.matchEndTime)>Pt()&&L("Match is not over","error",!1),y.arenaCreatorAddress==y.winner?(c.value=y.arenaCreatorNFTData,w.value=y.challengerNFTData,h.value=y.arenaCreatorNftSoldPrice,u.value=y.arenaCreatorNftSellPrice,D.value=y.arenaBidDataList.length,D.value>0&&(b.value=Ne(y.arenaCreatorNftLastBidder),r.value=y.arenaCreatorNftSoldPrice/y.arenaCreatorNftSellPrice),I.value=y.arenaNftPromotableFee):(c.value=y.challengerNFTData,w.value=y.arenaCreatorNFTData,h.value=y.challengerNftSoldPrice,u.value=y.challengerNftSellPrice,D.value=y.challengerBidDataList.length,D.value>0&&(b.value=Ne(y.challengerNftLastBidder),r.value=y.challengerNftSoldPrice/y.challengerNftSellPrice),I.value=y.challengeNftPromotableFee),console.log(c.value),Be(async()=>{console.log(m.data)});const R=(T,M)=>T==0?0:Je(qt(We(T,M),M),100);return(T,M)=>(l(),d("div",la,[e("section",ra,[e("div",ca,[e("p",da,o(s(t)("views.fightInfo.t31")),1),e("p",ua,[e("span",{class:V(["text-[50px]",{test_zero:h.value==0}])},o(h.value==0?"No Bid":s(ye)(s(ae)(h.value,5))),3),h.value!=0?(l(),d("span",fa,o(s(fe)),1)):C("",!0),h.value!=0?(l(),d("span",ha,"  "+o(R(h.value,u.value))+"%",1)):C("",!0)]),e("p",va,o(s(t)("views.fightInfo.t22",{times:D.value})),1)]),e("div",pa,[e("p",ga,o(s(t)("views.fightInfo.t27")),1),e("p",ma,o(b.value||s(t)("views.fightInfo.t56")),1)])]),m.isShowCom=="over"?(l(),d("section",Aa,[e("p",wa,o(s(t)("views.fightInfo.t29"))+" ",1),e("div",_a,[e("div",ya,[e("span",{class:V(["text-[50px]",{test_zero:I.value==0}])},o(I.value==0?"No Promotion Fee":s(ye)(s(ae)(I.value,5))),3),I.value!=0?(l(),d("span",Ca,o(s(fe)),1)):C("",!0)]),F(s(Fe),{onClick:M[0]||(M[0]=B=>f()),class:"text-xl"},{default:U(()=>[z(o(s(t)("views.fightInfo.t30")),1)]),_:1})])])):(l(),d("section",xa,[e("div",Ia,[e("p",ka,o(s(t)("views.fightInfo.t26")),1),e("p",ba,[Da,e("span",Na,o(s(fe)),1)])]),e("div",Ta,[e("p",Ba,o(s(t)("views.fightInfo.t27")),1),Sa,e("p",Fa,[z(o(s(t)("views.fightInfo.t25"))+" ",1),F(s(Ht),{class:"text-xs"})])])]))]))}});const Ea=Se(Ma,[["__scopeId","data-v-7307943d"]]),La={class:"my_rush mx-[15px]"},Ua={class:"title"},Ra={class:"circle"},Oa={class:"solid"},Qa={key:0,class:"green"},Va={key:0,class:"line"},Pa={class:"record"},Ga={key:0},$a={key:0,class:"info"},qa={class:"status"},za={key:0,class:"earn_price"},Ja=Ce({__name:"myRush",props:{data:{type:Object,default:()=>{}}},setup(a){const{t}=Te(),x=Oe(),p=a,f=c=>c.bidderAddress==x.address,m=(c,w)=>c.length-1!==w;return Be(()=>{console.log(p.data)}),(c,w)=>(l(),d("div",La,[e("div",Ua,o(s(t)("views.fightInfo.t10")),1),(l(!0),d(ue,null,_e(c.$props.data,(h,u)=>{var b;return l(),d("div",{key:u,class:"lists"},[e("div",Ra,[e("div",Oa,[f(h)?(l(),d("div",Qa)):C("",!0)]),((b=c.$props.data)==null?void 0:b.length)>1&&m(c.$props.data,u)?(l(),d("div",Va)):C("",!0)]),e("div",Pa,[e("div",{class:V(["price",{"font-primary":f(h)}])},[z(o(s(ae)(h.bidPrice,6))+" ",1),(h==null?void 0:h.bidderAddress)==s(x).address?(l(),d("span",Ga,o(s(fe)),1)):C("",!0)],2),f(h)?(l(),d("div",$a,[e("div",qa,o(m(c.$props.data,u)?s(t)("views.fightInfo.t11"):s(t)("views.fightInfo.t14")),1),m(c.$props.data,u)?(l(),d("div",za," If win well get "+o(s(ae)(s(Je)(h.bidPrice,.04),6))+" "+o(s(fe)),1)):C("",!0)])):C("",!0)])])}),128))]))}});const Ct=Se(Ja,[["__scopeId","data-v-b2690a69"]]),je=a=>(Qe("data-v-c711a1d5"),a=a(),Ve(),a),Ka={class:"flex flex-col"},ja={key:0,class:"m_flash"},Ya={class:"m_flash_info"},Ha={class:"m_left"},Wa={class:"m_left_price"},Xa={class:"m_left_title"},Za={class:"m_left_info"},eo=["src"],to=je(()=>e("div",{class:"line"},null,-1)),so={class:"m_flash_sale"},ao={class:"w-1/2 m_left"},oo={class:"title"},no={class:"count"},io=je(()=>e("div",{class:"vertical"},null,-1)),lo={class:"w-1/2 m_right"},ro={class:"title"},co={class:"price"},uo=["src"],fo={class:"price_num"},ho={key:1,class:"m_over_match"},vo={key:0,class:"m_match_win"},po={class:"win_info"},go={class:"win_detail"},mo={class:"win_price"},Ao={class:"win_title"},wo={class:"win_count"},_o=["src"],yo={class:"win_address"},Co={class:"win_trader"},xo={class:"win_address"},Io={class:"bid_times"},ko={key:1,class:"m_match_lost"},bo={class:"lost_info"},Do={class:"lost_detail"},No={class:"lost_title"},To={class:"lost_count"},Bo=["src"],So={class:"flex flex-col"},Fo={key:0,class:"m_flash"},Mo={class:"m_flash_info"},Eo={class:"m_left"},Lo={class:"m_left_price"},Uo={class:"m_left_title"},Ro={class:"m_left_info"},Oo=["src"],Qo=je(()=>e("div",{class:"line"},null,-1)),Vo={class:"m_flash_sale"},Po={class:"w-1/2 m_left"},Go={class:"title"},$o={class:"count"},qo=je(()=>e("div",{class:"vertical"},null,-1)),zo={class:"w-1/2 m_right"},Jo={class:"title"},Ko={class:"price"},jo=["src"],Yo={class:"price_num"},Ho={key:1,class:"m_over_match"},Wo={key:0,class:"m_match_win"},Xo={class:"win_info"},Zo={class:"win_detail"},en={class:"win_price"},tn={class:"win_title"},sn={class:"win_count"},an=["src"],on={class:"win_address"},nn={class:"win_trader"},ln={class:"win_address"},rn={class:"bid_times"},cn={key:1,class:"m_match_lost"},dn={class:"lost_info"},un={class:"lost_detail"},fn={class:"lost_title"},hn={class:"lost_count"},vn=["src"],pn=Ce({__name:"flashSale",props:{data:{type:Object,default:()=>{}},isShowCom:{type:String,default:""}},setup(a){const t=a,x=ze(),{t:p}=Te(),[f,m]=[Le(),Ue()],{match_id:c}=f.query,w=new Wt,h=v();Be(async()=>{try{await D()}catch(r){L(r.message,"error",!1)}console.log("props.data",t.data)});const u=(r,I,y)=>{I=="playing"&&(y=="arena"?m.push({path:"/flashSale/sale",query:{match_id:c,nft_address:r==null?void 0:r.arenaCreatorNftAddress,token_id:r==null?void 0:r.arenaCreatorTokenId}}):m.push({path:"/flashSale/sale",query:{match_id:c,nft_address:r==null?void 0:r.challengerNftAddress,token_id:r==null?void 0:r.challengerTokenId}}))},b=()=>{var r;if(t.data.winnerNFTData)if(t.data.arenaNftPromotableFee==0&&((r=t.data)==null?void 0:r.challengeNftPromotableFee)==0){m.push("/extendExpense/index");return}else m.push({path:"/extendExpense/setAvatar",query:{match_id:f.query.match_id}});else{L(p("views.challenge.gameOver.t5"),"warning",!1);return}},D=async()=>{h.value=await w.getChainDataById(x)};return(r,I)=>{var R,T,M,B,g,E,Y,Z,ee,te,le,G,he,J,ie,$,H,W,K,ce,ve,de,xe,pe,N,n,re,ne,se,P,A,i,_,S,O,X,j,me,Ie,Me,Q,ke,q,ge,Ae,Re,at,ot,nt,it,lt,rt,ct,dt;const y=Ze;return l(),d("div",{class:V(["flex flex-col",{rever:t.isShowCom=="over"&&((R=r.$props.data)==null?void 0:R.winner)!=((T=r.$props.data)==null?void 0:T.arenaCreatorAddress)}])},[e("div",Ka,[r.$props.isShowCom=="playing"||t.isShowCom=="noOpponent"?(l(),d("div",ja,[e("div",Ya,[e("div",Ha,[F(y,{src:(B=(M=t.data)==null?void 0:M.arenaCreatorNFTData)==null?void 0:B.cacheImageUrl,width:60,class:V({grayscale:t.isShowCom=="over"&&((g=r.$props.data)==null?void 0:g.winner)==((E=r.$props.data)==null?void 0:E.arenaCreatorAddress)})},null,8,["src","class"]),e("div",Wa,[e("div",Xa,o(s(p)("views.fightInfo.t61")),1),e("div",Za,[e("img",{src:(Y=h.value)==null?void 0:Y.icon,alt:"",class:"rounded-full"},null,8,eo),e("div",null,o(s(ae)((Z=t.data)==null?void 0:Z.arenaCreatorNFTBidPrice)),1)])])]),e("div",{class:V(["m_right r-bg",{"opacity-50":t.isShowCom=="noOpponent"}]),onClick:I[0]||(I[0]=St=>u(t.data,t.isShowCom,"arena"))}," +4% BID ",2)]),to,e("div",so,[e("div",ao,[e("div",oo,o(s(p)("views.fightInfo.t8")),1),e("div",no,o((te=(ee=t.data)==null?void 0:ee.arenaBidDataList)==null?void 0:te.length),1)]),io,e("div",lo,[e("div",ro,o(s(p)("views.fightInfo.t9")),1),e("div",co,[e("img",{src:(le=h.value)==null?void 0:le.icon,alt:"",class:"rounded-full"},null,8,uo),e("div",fo,o((G=t.data)==null?void 0:G.arenaNftPromotableFee),1)])])])])):C("",!0),r.$props.isShowCom=="over"?(l(),d("div",ho,[((he=r.$props.data)==null?void 0:he.winner)==((J=r.$props.data)==null?void 0:J.arenaCreatorAddress)?(l(),d("div",vo,[e("div",po,[F(y,{src:($=(ie=t.data)==null?void 0:ie.arenaCreatorNFTData)==null?void 0:$.cacheImageUrl,width:60},null,8,["src"]),e("div",go,[e("div",mo,[e("div",Ao,o(s(p)("views.fightInfo.t31")),1),e("div",wo,[((H=r.$props.data)==null?void 0:H.arenaCreatorNftSoldPrice)!=0?(l(),d("img",{key:0,src:(W=h.value)==null?void 0:W.icon,alt:"",class:"rounded-full img"},null,8,_o)):C("",!0),z(" "+o(((K=r.$props.data)==null?void 0:K.arenaCreatorNftSoldPrice)==0?"No Bid":s(ye)(s(ae)((ce=r.$props.data)==null?void 0:ce.arenaCreatorNftSoldPrice,5))),1)])]),e("div",yo,[e("div",Co,o(s(p)("views.fightInfo.t27")),1),e("div",xo,o(s(Ne)((ve=r.$props.data)==null?void 0:ve.arenaCreatorNftLastBidder)||"No Trader"),1)])])]),e("div",Io,o(s(p)("views.fightInfo.t22",{times:t.data.arenaBidDataList.length})),1)])):(l(),d("div",ko,[F(y,{src:(xe=(de=t.data)==null?void 0:de.arenaCreatorNFTData)==null?void 0:xe.cacheImageUrl,width:60,class:"grayscale"},null,8,["src"]),e("div",bo,[e("div",Do,[e("div",No,o(s(p)("views.fightInfo.t29")),1),e("div",To,[e("img",{src:(pe=h.value)==null?void 0:pe.icon,alt:"",class:"rounded-full img"},null,8,Bo),z(" "+o(((N=r.$props.data)==null?void 0:N.challengeNftPromotableFee)==0?"0.00":s(ye)(s(ae)((n=r.$props.data)==null?void 0:n.challengeNftPromotableFee,5))),1)])]),e("div",{class:"get_earn",onClick:b},"earn")])]))])):C("",!0),((re=r.$props.data)==null?void 0:re.arenaBidDataList.length)>0?(l(),oe(Ct,{key:2,data:(ne=r.$props.data)==null?void 0:ne.arenaBidDataList},null,8,["data"])):C("",!0)]),e("div",So,[r.$props.isShowCom=="playing"?(l(),d("div",Fo,[e("div",Mo,[e("div",Eo,[F(y,{src:(P=(se=t.data)==null?void 0:se.challengerNFTData)==null?void 0:P.cacheImageUrl,width:60,class:V({grayscale:t.isShowCom=="over"&&((A=r.$props.data)==null?void 0:A.winner)!=((i=r.$props.data)==null?void 0:i.arenaCreatorAddress)})},null,8,["src","class"]),e("div",Lo,[e("div",Uo,o(s(p)("views.fightInfo.t61")),1),e("div",Ro,[e("img",{src:(_=h.value)==null?void 0:_.icon,alt:"",class:"rounded-full"},null,8,Oo),e("div",null,o(s(ae)((S=t.data)==null?void 0:S.challengerNFTBidPrice)),1)])])]),e("div",{class:"m_right r-bg",onClick:I[1]||(I[1]=St=>u(t.data,t.isShowCom,"challenge"))}," +4% BID ")]),Qo,e("div",Vo,[e("div",Po,[e("div",Go,o(s(p)("views.fightInfo.t8")),1),e("div",$o,o((X=(O=t.data)==null?void 0:O.challengerBidDataList)==null?void 0:X.length),1)]),qo,e("div",zo,[e("div",Jo,o(s(p)("views.fightInfo.t9")),1),e("div",Ko,[e("img",{src:(j=h.value)==null?void 0:j.icon,alt:"",class:"rounded-full"},null,8,jo),e("div",Yo,o((me=t.data)==null?void 0:me.challengeNftPromotableFee),1)])])])])):C("",!0),r.$props.isShowCom=="over"?(l(),d("div",Ho,[((Ie=r.$props.data)==null?void 0:Ie.winner)!=((Me=r.$props.data)==null?void 0:Me.arenaCreatorAddress)?(l(),d("div",Wo,[e("div",Xo,[F(y,{src:(ke=(Q=t.data)==null?void 0:Q.challengerNFTData)==null?void 0:ke.cacheImageUrl,width:60},null,8,["src"]),e("div",Zo,[e("div",en,[e("div",tn,o(s(p)("views.fightInfo.t31")),1),e("div",sn,[((q=r.$props.data)==null?void 0:q.challengerNftSoldPrice)!=0?(l(),d("img",{key:0,src:(ge=h.value)==null?void 0:ge.icon,alt:"",class:"rounded-full img"},null,8,an)):C("",!0),z(" "+o(((Ae=r.$props.data)==null?void 0:Ae.challengerNftSoldPrice)==0?"No Bid":s(ye)(s(ae)((Re=r.$props.data)==null?void 0:Re.challengerNftSoldPrice,5))),1)])]),e("div",on,[e("div",nn,o(s(p)("views.fightInfo.t27")),1),e("div",ln,o(s(Ne)((at=r.$props.data)==null?void 0:at.challengerNftLastBidder)||"No Trader"),1)])])]),e("div",rn,o(s(p)("views.fightInfo.t22",{times:t.data.challengerBidDataList.length})),1)])):(l(),d("div",cn,[F(y,{src:(nt=(ot=t.data)==null?void 0:ot.challengerNFTData)==null?void 0:nt.cacheImageUrl,width:60,class:"grayscale"},null,8,["src"]),e("div",dn,[e("div",un,[e("div",fn,o(s(p)("views.fightInfo.t29")),1),e("div",hn,[e("img",{src:(it=h.value)==null?void 0:it.icon,alt:"",class:"rounded-full img"},null,8,vn),z(" "+o(((lt=r.$props.data)==null?void 0:lt.arenaNftPromotableFee)==0?"0.00":s(ye)(s(ae)((rt=r.$props.data)==null?void 0:rt.arenaNftPromotableFee,5))),1)])]),e("div",{class:"get_earn",onClick:b},"earn")])]))])):C("",!0),((ct=r.$props.data)==null?void 0:ct.challengerBidDataList.length)>0?(l(),oe(Ct,{key:2,data:(dt=r.$props.data)==null?void 0:dt.challengerBidDataList},null,8,["data"])):C("",!0)])],2)}}});const gn=Se(pn,[["__scopeId","data-v-c711a1d5"]]),mn=Ce({__name:"MFlashSale",props:{data:{type:Object,default:()=>{}},isShowCom:{type:String,default:""}},setup(a){const t=a;return(x,p)=>(l(),oe(gn,{data:t.data,isShowCom:t.isShowCom},null,8,["data","isShowCom"]))}}),An={class:"p-5 myRush"},wn={class:"text-xl font-bold text-white"},_n={class:"flex flex-col items-start"},yn={class:"flex mt-[20px] mb-[10px] items-center"},Cn=["src"],xn={class:"flex"},In={class:"w-24 text-xs text-center f-1 default-family",style:{"min-height":"18px"}},kn={class:"w-[100px] text-center"},bn={class:"cursor-pointer"},Dn={class:"flex flex-col"},Nn={class:"flex items-center mb-[8px]"},Tn={style:{border:"1px solid #3a3a3a"},class:"flex items-center justify-center w-5 h-5 bg-black rounded-full"},Bn={key:0,class:"w-2 h-2 rounded-full bg-primary"},Sn={key:0},Fn={class:"flex mb-[20px] mt-[10px] items-center"},Mn=["src"],En={class:"flex"},Ln={class:"w-24 text-xs text-center f-1 default-family",style:{"min-height":"18px"}},Un={class:"w-[100px] text-center"},Rn={class:"cursor-pointer"},On={class:"flex flex-col"},Qn={class:"flex items-center mb-[8px]"},Vn={style:{border:"1px solid #3a3a3a"},class:"flex items-center justify-center w-5 h-5 bg-black rounded-full"},Pn={key:0,class:"w-2 h-2 rounded-full bg-primary"},Gn={key:0},$n=Ce({__name:"MyRush",props:{data:{type:Ge,default:()=>{}},vote_data:{type:De,default:()=>{}},isShowCom:{type:String,default:""}},setup(a){const{t}=Te(),[x,p]=[Le(),Ue()],f=Oe(),m=v();v(()=>m.value);const c=a,w=v(),h=v(0),u=v(0);Ke(()=>c.data,r=>{console.log(r),w.value=r}),Be(async()=>{var r,I;console.log("props",c.data),w.value=c.data,h.value=w.value?Number((r=w.value)==null?void 0:r.arenaBidDataList.length):0,u.value=w.value?Number((I=w.value)==null?void 0:I.challengerBidDataList.length):0});const b=(r,I)=>{if(r)return c.isShowCom=="over"?I=="left"?r.challengerAddress==r.winner:r.arenaCreatorAddress==r.winner:!1},D=r=>{const{nftAddress:I,nftTokenId:y}=r;p.push({path:"/detail/index",query:{nft_address:I,token_id:y}})};return(r,I)=>{var y,R,T,M;return l(),d("div",An,[e("p",wn,o(s(t)("views.fightInfo.t10")),1),e("section",_n,[e("div",yn,[e("img",{src:(y=w.value)==null?void 0:y.arenaCreatorNFTData.cacheImageUrl,preview:!1,class:V(["flex-shrink-0 w-[50px] h-[50px] object-contain cursor-pointer",{grayscale:b(w.value,"left")}]),onClick:I[0]||(I[0]=B=>{var g;return D((g=w.value)==null?void 0:g.arenaCreatorNFTData)})},null,10,Cn),e("div",xn,[(l(!0),d(ue,null,_e((R=w.value)==null?void 0:R.arenaBidDataList.sort((B,g)=>new Date(B.biddedAt).getTime()-new Date(g.biddedAt).getTime()),(B,g)=>(l(),d("div",{class:"flex flex-col items-center justify-end space-y-1",key:g},[e("div",In,[B.bidderAddress==s(f).address?(l(),oe(s(pt),{key:0,getPopupContainer:E=>E.parentNode},{content:U(()=>[e("p",kn,o(s(t)("views.fightInfo.t12",{unit:s(fe),monery:s(ye)(s(ae)(s(Je)(B.bidPrice,.04),5))})),1)]),default:U(()=>[e("span",bn,o(s(t)("views.fightInfo.t59")),1)]),_:2},1032,["getPopupContainer"])):C("",!0)]),e("div",Dn,[e("div",Nn,[e("p",{style:we([{background:"#3a3a3a"},`height:${g==0?0:1}px`]),class:"w-10"},null,4),e("div",Tn,[B.bidderAddress==s(f).address?(l(),d("div",Bn)):C("",!0)]),e("p",{style:we([{background:"#3a3a3a"},`height:${h.value-1==g?0:1}px`]),class:"w-10"},null,4)]),e("div",{class:V(["h-6 text-xs text-center font-pf",B.bidderAddress==s(f).address?"font-primary":"f-1"])},[z(o(s(ye)(s(ae)(B.bidPrice,5)))+" ",1),B.bidderAddress==s(f).address?(l(),d("span",Sn,o(s(fe)),1)):C("",!0)],2)])]))),128))])]),e("div",Fn,[e("img",{src:(T=w.value)==null?void 0:T.challengerNFTData.cacheImageUrl,preview:!1,class:V(["flex-shrink-0 w-[50px] h-[50px] object-contain cursor-pointer",{grayscale:b(w.value,"right")}]),onClick:I[1]||(I[1]=B=>{var g;return D((g=w.value)==null?void 0:g.challengerNFTData)})},null,10,Mn),e("div",En,[(l(!0),d(ue,null,_e((M=w.value)==null?void 0:M.challengerBidDataList.sort((B,g)=>new Date(B.biddedAt).getTime()-new Date(g.biddedAt).getTime()),(B,g)=>(l(),d("div",{class:"flex flex-col items-center justify-end space-y-1",key:g},[e("div",Ln,[B.bidderAddress==s(f).address?(l(),oe(s(pt),{key:0,getPopupContainer:E=>E.parentNode},{content:U(()=>[e("p",Un,o(s(t)("views.fightInfo.t12",{unit:s(fe),monery:s(ye)(s(ae)(s(Je)(B.bidPrice,.04),5))})),1)]),default:U(()=>[e("span",Rn,o(s(t)("views.fightInfo.t59")),1)]),_:2},1032,["getPopupContainer"])):C("",!0)]),e("div",On,[e("div",Qn,[e("p",{style:we([{background:"#3a3a3a"},`height:${g==0?0:1}px`]),class:"w-10"},null,4),e("div",Vn,[B.bidderAddress==s(f).address?(l(),d("div",Pn)):C("",!0)]),e("p",{style:we([{background:"#3a3a3a"},`height:${u.value-1==g?0:1}px`]),class:"w-10"},null,4)]),e("div",{class:V(["h-6 text-xs text-center font-pf",B.bidderAddress==s(f).address?"font-primary":"f-1"])},[z(o(s(ye)(s(ae)(B.bidPrice,5)))+" ",1),B.bidderAddress==s(f).address?(l(),d("span",Gn,o(s(fe)),1)):C("",!0)],2)])]))),128))])])])])}}});const qn=Se($n,[["__scopeId","data-v-7c10f927"]]),zn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAMAAACxiD++AAAAaVBMVEUAAAC790wdJgym3EQJDAQDBAEiLQ59pTMlMQ+GsTZniSkoNRCy60ih1UFhgCdIXx0GCQIMEAW28Eo8TxgrORIRFges40WPvTqCqzVYdCQ2RhYxQRQkLw+AqTRvky1tkCxRayFDWRtDWBuyCZaSAAAA1UlEQVQoz4WPSRKDMAwEJbAh7DgsCZD9/4+MhA7BBEQfxGEa1wz4ZGecKSxs0oUoVNu5vaAQ7jzwpCxt6Ly284qiBB6IfQ3Cf8HCdXSH3YJ5AClds1uwAZcjll4QCU2Mc1LSZ4oWAP5IAEyOPuFCyB3AgCsS8B6o+7WQspBZa2lCzFU9CsSKhRMlIvjU/LMm3CgzmvDmEZpQUnFVuNIIVeARiiAjFEFGaMKHR2gCj1AFHqEKPEIRZIQIrTGGhLvxaGUEoEIIB0JyJKQsBMI0jm2wxlH+BfGlCSCPie7sAAAAAElFTkSuQmCC",Jn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAYAAACGVs+MAAAAAXNSR0IArs4c6QAAApVJREFUWEfFV1tLKlEU/ryk4l2fEhND1AwxKvLBC4GXHhL6vb0ogRaUFBQkBGKBD0X14CXCu8bah9kczxmPMxb7rLeZvWetb639fXut0QCYYQVzuVxIJpPQarWyX39+fuLs7Ayz2b/da1YBYDQacXh4CJPJtBD63d0dms3m0tRUA6CME4kE3G73Quf9fh+lUgnT6fTnAcRiMWxubnLHjUYDrVYLBwcH/N39/T2enp6WBqcNqirg8/mwu7vLHb++vqJarWJnZwd+v5+9Hw6HKBaLmEwmPwvA6XQilUpx0hHJKpUKdDodcrkcf//w8IB6va4ouOIK/Em68XiM8/NzfHx8IBqNIhAIsICj0YhlT+tKbekRyJHu+voaLy8vMBgMyOfzrApklDlVQI1p7Hb7QqGazWZsbGzA4/Fwn78H2draQjgcZmuk98vLS8YBNaY5OTlRfBG9vb0x0lEwvV7Psl9bW1MTb25vr9eDYgB0rnS+dM5kwWAQ29vbKwenDykhxQBo89XVFQsoMZ/I+R2jO2QOADG73W5zn1Ri6bp9fn7Gzc0NX9NoiL/qLZvNgrhFRtf1HIByuYxOp8O9Hh0dLQSgPvSvyh0fH0MCTwkLBeBwOFgTk+z09FQsAJL03t4ei08KIFILrUAkEkEoFGIAJFILBRCPx7G+vs4APD4+olaria0AKcBisXAF0MAirAJyCqA5QhgAOQXQ7SoMgNfrxf7+/pwC6EEYADkFCAUgpwChAOQUIAwATVWFQmGuB5AC/gJwcXGBbrfL7+pMJsObEY1gt7e3q/Qg2Gw2pNPpuR4gzY2K54GVIst8JPUAaUk4gPf3dzY7/jcAUg/gAKxW68KhlKYh6e+X/nQGg8G3T4J8SHMlOfsCDb7Rwu9TiqwAAAAASUVORK5CYII=",Kn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAWZJREFUSEvtls+KglAUxr+LhkVIDyC0kKBd4QuEi5A2Pq0bFy7CB9CdJFQLcZUrtYWg6XAZCJrJut6piflzlnLO+Z3v83DvJaZpNnhBkL8N9n0feZ4/xXhZlqFp2rn3hdWu6yJN06eAR6MRFovFP/jdgY9WL5dLiKLIZX1VVXAc51zbyerVaoVer8cFLssStm3zgXVd/5Li9XrNB+aS2lLUyeqXgefzOQRBaOV7nsc8WyfF95bLsqxfBqbnKyGkVVWWZc9RzNyVIbHTP2box5zyc8DD4RCDwYBZWVsi7TObze5fi5IkYTqdYjwe31ww3ok+PQSOxyNUVcVkMuE+p1mGuQDvdjsoioJ+v39RW9c1TqcTSz/mnJuvTArb7/fYbreg9+sj4yq4aRrEcYzNZoOiKB7Ju75c9GuSJAiCAF1OJZ7Jzorps5YCD4cDT5/ONcQwjCYMQ0RRBGrxdwURRbF59OKwDP8GppkAwvV0DyEAAAAASUVORK5CYII=";class jn{constructor(t){k(this,"commentId");k(this,"mactchId");k(this,"matchAddress");k(this,"userAddress");k(this,"content");k(this,"createAt");k(this,"isVote");k(this,"isBid");k(this,"isArena");k(this,"isChallenge");k(this,"isFriGroup");k(this,"isHold");k(this,"isDriGroup");k(this,"goodNum");k(this,"replyNum");k(this,"isMyGood");k(this,"friGroupList");k(this,"replyList");this.commentId=t.commentId,this.mactchId=t.mactchId,this.matchAddress=t.matchAddress,this.userAddress=t.userAddress,this.content=t.content,this.createAt=t.createAt,this.isVote=t.isVote,this.isBid=t.isBid,this.isArena=t.isArena,this.isChallenge=t.isChallenge,this.isFriGroup=t.isFriGroup,this.isHold=t.isHold,this.isDriGroup=t.isDriGroup,this.goodNum=t.goodNum,this.replyNum=t.replyNum,this.isMyGood=t.isMyGood,this.friGroupList=t.friGroupList,this.replyList=t.replyList}}const Yn={class:"comment_item"},Hn={class:"flex items-center justify-start space-x-1 text-xs f-1"},Wn={class:"space-x-1"},Xn={class:"text-white text-[15px]"},Zn={class:"mt-2 text-base text-white default-family content"},ei={class:"flex items-center justify-between mt-2 text-xs f-1 font-pf"},ti={class:"flex items-center space-x-6"},si={key:0,style:{background:"#1c1c1c"},class:"flex flex-wrap p-3 pb-1 mt-4"},ai={key:1,style:{background:"#1c1c1c"},class:"p-4 mt-2 space-y-4"},oi={class:"flex items-center space-x-1 text-xs f-2"},ni={class:"text-white text-[13px]"},ii={key:0,class:"f-1 default-family"},li={key:1,class:"text-white text-[13px]"},ri={class:"text-[13px] text-[#B2B2B2] default-family"},ci={class:"flex items-center space-x-4 text-xs f-2"},di={class:"text-[#666]"},ui=["onClick"],fi=Ce({__name:"item",props:{info:{type:jn,default:()=>({})}},emits:["like","replyOne","replyTwo"],setup(a,{emit:t}){const{t:x}=Te(),p=a,f=v(Jn),m=t,c=v([]),w=()=>{m("like",p.info)},h=D=>(D.isVote=="1"&&c.value.push({text:x("views.fightInfo.t42"),class:"bg-[#5f48fe]"}),D.isBid=="1"&&c.value.push({text:x("views.fightInfo.t43"),class:"bg-[#FF731D]"}),D.isArena=="1"&&c.value.push({text:x("views.fightInfo.t44"),class:"bg-[#F74D4C]"}),D.isChallenge=="1"&&c.value.push({text:x("views.fightInfo.t45"),class:"bg-[#4C9AF7]"}),D.isFriGroup=="1"&&c.value.push({text:x("views.fightInfo.t46"),class:"bg-[#71FF82]"}),D.isHold=="1"&&c.value.push({text:x("views.fightInfo.t47"),class:"bg-[#BBF74C]"}),c.value);Be(()=>{h(p.info),console.log(p.info)});const u=D=>{m("replyOne",D)},b=D=>{m("replyTwo",D)};return(D,r)=>{var y,R;const I=Ze;return l(),d("div",Yn,[e("section",Hn,[e("div",Wn,[(l(!0),d(ue,null,_e(c.value,(T,M)=>(l(),oe(s(Zt),{class:V(["mx-0 font-bold text-black border-0 rounded-none",T.class]),key:M},{default:U(()=>[z(o(T.text),1)]),_:2},1032,["class"]))),128))]),e("span",Xn,o(s(Ne)(p.info.userAddress)),1)]),e("section",Zn,o(p.info.content),1),e("section",ei,[e("div",ti,[e("a",{class:"flex items-center space-x-1",onClick:r[0]||(r[0]=T=>u(p.info))},[F(s(mt),{src:s(Kn),height:14,width:14,preview:!1},null,8,["src"]),e("span",null,o(((R=(y=p.info)==null?void 0:y.replyList)==null?void 0:R.length)??0),1)]),e("a",{class:"flex items-center space-x-1",onClick:w},[F(s(mt),{src:p.info.isMyGood=="0"?f.value:s(zn),height:14,width:14,preview:!1},null,8,["src"]),e("span",null,o(p.info.goodNum),1)])]),e("span",null,o(s(gt)(p.info.createAt)),1)]),p.info.friGroupList?(l(),d("section",si,[(l(!0),d(ue,null,_e(p.info.friGroupList,(T,M)=>(l(),d("div",{key:M,class:"mb-2 mr-2"},[F(I,{width:50,height:50,src:T.imageUri,preview:!1},null,8,["src"])]))),128))])):C("",!0),p.info.replyList?(l(),d("section",ai,[(l(!0),d(ue,null,_e(p.info.replyList,(T,M)=>(l(),d("div",{key:M,class:"space-y-1 font-pf"},[e("p",oi,[e("span",ni,o(s(Ne)(T.userAddress)),1),T.toReplyAddress?(l(),d("span",ii,o(s(x)("views.fightInfo.t40")),1)):C("",!0),T.toReplyAddress?(l(),d("span",li,o(s(Ne)(T.toReplyAddress)),1)):C("",!0)]),e("div",ri,o(T.content),1),e("p",ci,[e("span",di,o(s(gt)(T.createAt)),1),e("span",{class:"default-family cursor-pointer text-[#bbf74c]",onClick:B=>b(T)},o(s(x)("views.fightInfo.t40")),9,ui)])]))),128))])):C("",!0)])}}});const qe=Se(fi,[["__scopeId","data-v-61571bf1"]]),Ye=a=>(Qe("data-v-e7962ebd"),a=a(),Ve(),a),hi={key:0,class:"px-4 comment mt-[60px]"},vi=Ye(()=>e("div",{class:"mx-10",style:{width:"1px",background:"#3a3a3a"}},null,-1)),pi={class:"w-1/2 pb-6 mb-6 space-y-8"},gi=Ye(()=>e("div",{class:"mx-10",style:{width:"1px",background:"#3a3a3a"}},null,-1)),mi={class:"w-1/2 pb-6 mb-6 space-y-8"},Ai={class:"w-1/2 mb-6 comment-input"},wi=Ye(()=>e("div",{class:"mx-10",style:{width:"1px",background:"#3a3a3a"}},null,-1)),_i={class:"w-1/2 py-4 mb-6 comment-input"},yi={key:1,class:"mt-[30px]"},Ci=Ye(()=>e("h1",{class:"text-lg text-white",style:{"margin-left":"4vw","margin-bottom":"1vh"}},"Comment",-1)),xi={key:0},Ii={class:"pb-6 mb-6 space-y-8"},ki={class:"mb-6 comment-input"},bi={key:0},Di={class:"pb-6 mb-6 space-y-8"},Ni={class:"mb-6 comment-input"},Ti=Ce({__name:"index",props:{battleData:{type:Ge},isSwap:{type:String},isShowCom:{type:String,default:""}},setup(a){var re,ne,se,P;const{t}=Te(),x=new et,p=new Gt,[f,m]=[Le(),Ue()],c=v(),w=Oe(),h=v(""),u=v(""),b=f.query.match_id,D=v(!1),r=v(!1);v();const I=v(),y=v(),R=v(),T=v(),M=new Date().getTime(),{open:B}=He(),{chain:g}=kt(),E=a,Y=v(1),Z=v(2),ee=()=>{const A=Y.value;Y.value=Z.value,Z.value=A},te=v(window.innerWidth>=768),le=()=>{te.value=window.innerWidth>=768},G=ft(()=>{var A,i,_,S;return(A=R.value)!=null&&A.userAddress?t("views.fightInfo.comment.replyAddress",{nftAddress:Ne((S=R.value)==null?void 0:S.userAddress)}):t("views.fightInfo.comment.replyNft",{nftInfo:((i=E.battleData)==null?void 0:i.arenaCreatorNFTData.name)+" #"+((_=E.battleData)==null?void 0:_.arenaCreatorNFTData.nftTokenId)})}),he=ft(()=>{var A,i,_,S;return(A=T.value)!=null&&A.userAddress?t("views.fightInfo.comment.replyAddress",{nftAddress:Ne((S=T.value)==null?void 0:S.userAddress)}):t("views.fightInfo.comment.replyNft",{nftInfo:((i=E.battleData)==null?void 0:i.challengerNFTData.name)+" #"+((_=E.battleData)==null?void 0:_.challengerNFTData.nftTokenId)})});Be(async()=>{J(),n(E.battleData),window.addEventListener("resize",le),ee()}),Xe(()=>{window.removeEventListener("resize",le)}),Ke(()=>E.battleData,A=>{n(A)});const J=async()=>{c.value=await p.getComment({userAddress:w.address,matchId:b,chainId:g==null?void 0:g.id})},ie=v(),$=`${t("views.fightInfo.comment.about")} ${(re=E.battleData)==null?void 0:re.arenaCreatorNFTData.name} #${(ne=E.battleData)==null?void 0:ne.arenaCreatorNFTData.nftTokenId}${t("views.fightInfo.comment.commentText")}`,H=`${t("views.fightInfo.comment.about")} ${(se=E.battleData)==null?void 0:se.challengerNFTData.name} #${(P=E.battleData)==null?void 0:P.challengerNFTData.nftTokenId}${t("views.fightInfo.comment.commentText")}`,W=()=>{R.value=null},K=()=>{T.value=null},ce=()=>{var A,i,_;if(h.value==""){L(t("views.fightInfo.t38"),"warning",!1);return}if(!w.address){B();return}D.value=!0,R.value?xe(w.address,(A=R.value)==null?void 0:A.commentId,h.value,(i=R.value)==null?void 0:i.replyId,(_=R.value)==null?void 0:_.userAddress).then(S=>{L(t("views.fightInfo.t39"),"warning",!1),console.log(S),J(),h.value="",D.value=!1}).catch(S=>{console.error(S),D.value=!1}):x.getMatchDataExtByMatchId(b).then(async S=>{await p.sendComment(w.address,{matchId:b,matchAddress:S.arenaCreatorAddress,content:h.value,chainId:g==null?void 0:g.id}),h.value="",J(),D.value=!1}).catch(S=>{D.value=!1,console.error(S)})},ve=()=>{var A,i,_,S;if(!((A=E.battleData)!=null&&A.challengerNFTData.nftAddress)){L(t("views.fightInfo.t57"),"warning",!1);return}if(u.value==""){L(t("views.fightInfo.t38"),"warning",!1);return}if(!w.address){B();return}r.value=!0,T.value?xe(w.address,(i=T.value)==null?void 0:i.commentId,u.value,(_=T.value)==null?void 0:_.replyId,(S=T.value)==null?void 0:S.userAddress).then(O=>{L(t("views.fightInfo.t39"),"success",!1),console.log(O),J(),u.value="",r.value=!1}).catch(O=>{console.error(O),r.value=!1}):x.getMatchDataExtByMatchId(b).then(async O=>{await p.sendComment(w.address,{matchId:b,matchAddress:O.challengerAddress,content:u.value,chainId:g==null?void 0:g.id}),J(),u.value="",r.value=!1}).catch(O=>{r.value=!1,console.error(O)})},de=A=>{A.isMyGood=="0"?p.clickLike(w.address,{commentId:A.commentId,chainId:g==null?void 0:g.id}).then(i=>{J(),console.log(i)}).catch(i=>{L(i.message,"error",!1)}):A.isMyGood=="1"&&p.cancelClickGood(w.address,{commentId:A.commentId,chainId:g==null?void 0:g.id}).then(i=>{J(),console.log(i)}).catch(i=>{L(i.message,"error",!1)})},xe=async(A,i,_,S="",O="")=>{await p.replyComment(A,{commentId:i,content:_,toReplyId:S,toReplyAddress:O,chainId:g==null?void 0:g.id})},pe=A=>{var i;R.value=A,(i=I.value)==null||i.focus(),console.log("#####"+R.value.userAddress)},N=A=>{var i;T.value=A,(i=y.value)==null||i.focus()},n=A=>{const i=new Date(A==null?void 0:A.matchEndTime).getTime(),_=A==null?void 0:A.winner,S=A==null?void 0:A.arenaCreatorAddress;return M>i&&i!==0?S!=_:!1};return(A,i)=>{var O,X,j,me,Ie,Me,Q,ke;const _=ts,S=es;return l(),d(ue,null,[te.value?(l(),d("div",hi,[e("section",{class:V(["flex",{"flex-row-reverse":n(E.battleData)}])},[e("p",{class:"w-1/2 py-4 text-lg text-white cursor-pointer",onClick:W},o(s(t)("views.fightInfo.comment.about"))+" "+o((O=E.battleData)==null?void 0:O.arenaCreatorNFTData.name)+" # "+o((X=E.battleData)==null?void 0:X.arenaCreatorNFTData.nftTokenId)+" "+o(s(t)("views.fightInfo.comment.commentText")),1),vi,e("p",{class:"w-1/2 py-4 text-lg text-white cursor-pointer",onClick:K},o(s(t)("views.fightInfo.comment.about"))+" "+o((j=E.battleData)==null?void 0:j.challengerNFTData.name)+" # "+o((me=E.battleData)==null?void 0:me.challengerNFTData.nftTokenId)+" "+o(s(t)("views.fightInfo.comment.commentText")),1)],2),e("section",null,[e("div",{class:V(["flex justify-between row",{"flex-row-reverse":n(E.battleData)}])},[e("div",pi,[["saved","noOpponent"].includes((Ie=A.$route.query)==null?void 0:Ie.status)?C("",!0):(l(!0),d(ue,{key:0},_e((Me=c.value)==null?void 0:Me.arenaList,(q,ge)=>(l(),oe(qe,{key:ge,info:q,onLike:de,onReplyOne:pe,onReplyTwo:pe},null,8,["info"]))),128))]),gi,e("div",mi,[["saved","noOpponent"].includes((Q=A.$route.query)==null?void 0:Q.status)?C("",!0):(l(!0),d(ue,{key:0},_e((ke=c.value)==null?void 0:ke.challengeList,(q,ge)=>(l(),oe(qe,{key:ge,info:q,onLike:de,onReplyTwo:N,onReplyOne:N},null,8,["info"]))),128))])],2)]),e("section",{class:V(["flex",{"flex-row-reverse":n(E.battleData)}])},[e("div",Ai,[F(s($e).TextArea,{placeholder:G.value,bordered:!1,"auto-size":{minRows:1,maxRows:5},class:"rounded-none",value:h.value,"onUpdate:value":i[0]||(i[0]=q=>h.value=q),ref_key:"inputLeft",ref:I},null,8,["placeholder","value"]),F(s(Ee),{spinning:D.value},{default:U(()=>[F(s(Fe),{class:"flex items-center justify-center h-full text-sm border-0 rounded-none bg-primary font-pf",style:{color:"#000"},onClick:ce},{default:U(()=>[z(o(s(t)("views.fightInfo.t16")),1)]),_:1})]),_:1},8,["spinning"])]),wi,e("div",_i,[F(s($e).TextArea,{placeholder:he.value,bordered:!1,"auto-size":{minRows:1,maxRows:5},class:"rounded-none",value:u.value,"onUpdate:value":i[1]||(i[1]=q=>u.value=q),ref_key:"inputRight",ref:y},null,8,["placeholder","value"]),F(s(Ee),{spinning:r.value},{default:U(()=>[F(s(Fe),{class:"flex items-center justify-center h-full text-sm border-0 rounded-none bg-primary font-pf",style:{color:"#000"},onClick:ve},{default:U(()=>[z(o(s(t)("views.fightInfo.t16")),1)]),_:1})]),_:1},8,["spinning"])])],2)])):C("",!0),te.value?C("",!0):(l(),d("div",yi,[Ci,e("div",{class:V([E.isSwap==="true"&&E.isShowCom=="playing"?"flex-column":"flex-column-reverse",{"flex-column":n(E.battleData)}])},[e("section",{class:"comment-to-nft",style:we({order:Y.value})},[F(S,{activeKey:ie.value,"onUpdate:activeKey":i[4]||(i[4]=q=>ie.value=q),accordion:"",class:"a-collapse"},{default:U(()=>[F(_,{key:"1",header:$,onClick:W},{default:U(()=>{var q,ge;return[c.value&&c.value.arenaList&&c.value.arenaList.length?(l(),d("div",xi,[e("div",Ii,[["saved","noOpponent"].includes((q=A.$route.query)==null?void 0:q.status)?C("",!0):(l(!0),d(ue,{key:0},_e((ge=c.value)==null?void 0:ge.arenaList,(Ae,Re)=>(l(),oe(qe,{key:Re,info:Ae,onLike:de,onReplyOne:pe,onReplyTwo:pe,onClick:i[2]||(i[2]=Pe(()=>{},["stop"]))},null,8,["info"]))),128))])])):C("",!0),e("div",ki,[F(s($e).TextArea,{placeholder:G.value,bordered:!1,"auto-size":{minRows:1,maxRows:5},class:"rounded-none",value:h.value,"onUpdate:value":i[3]||(i[3]=Ae=>h.value=Ae),ref_key:"inputLeft",ref:I},null,8,["placeholder","value"]),F(s(Ee),{spinning:D.value},{default:U(()=>[F(s(Fe),{class:"items-center justify-center h-full text-sm border-0 rounded-none bg-primary font-pf",style:{color:"#000"},onClick:ce},{default:U(()=>[z(o(s(t)("views.fightInfo.t16")),1)]),_:1})]),_:1},8,["spinning"])])]}),_:1})]),_:1},8,["activeKey"])],4),e("section",{class:"comment-to-nft",style:we({order:Z.value})},[F(S,{activeKey:ie.value,"onUpdate:activeKey":i[7]||(i[7]=q=>ie.value=q),accordion:"",class:"a-collapse"},{default:U(()=>[F(_,{key:"2",header:H,onClick:K},{default:U(()=>{var q,ge;return[c.value&&c.value.challengeList&&c.value.challengeList.length?(l(),d("div",bi,[e("div",Di,[["saved","noOpponent"].includes((q=A.$route.query)==null?void 0:q.status)?C("",!0):(l(!0),d(ue,{key:0},_e((ge=c.value)==null?void 0:ge.challengeList,(Ae,Re)=>(l(),oe(qe,{key:Re,info:Ae,onLike:de,onReplyTwo:N,onReplyOne:N,onClick:i[5]||(i[5]=Pe(()=>{},["stop"]))},null,8,["info"]))),128))])])):C("",!0),e("div",Ni,[F(s($e).TextArea,{placeholder:he.value,bordered:!1,"auto-size":{minRows:1,maxRows:5},class:"rounded-none",value:u.value,"onUpdate:value":i[6]||(i[6]=Ae=>u.value=Ae),ref_key:"inputRight",ref:y},null,8,["placeholder","value"]),F(s(Ee),{spinning:r.value},{default:U(()=>[F(s(Fe),{class:"items-center justify-center h-full text-sm border-0 rounded-none bg-primary font-pf",style:{color:"#000"},onClick:ve},{default:U(()=>[z(o(s(t)("views.fightInfo.t16")),1)]),_:1})]),_:1},8,["spinning"])])]}),_:1})]),_:1},8,["activeKey"])],4)],2)]))],64)}}});const Bi=Se(Ti,[["__scopeId","data-v-e7962ebd"]]),Si="data:image/png;base64,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",xt=a=>{if(a.matchStatus=="ready")return"noOpponent";if(a.matchStatus=="determined")return"over";if(a.matchStatus=="started"){const t=new Date().getTime(),x=new Date(a.matchEndTime).getTime();if(t>x)return"over";if(t<x)return"playing"}},Bt=a=>(Qe("data-v-e19e3f46"),a=a(),Ve(),a),Fi={class:"fightInfo"},Mi={id:"modal"},Ei={class:"bg_bg"},Li=Bt(()=>e("div",{class:"circle"},null,-1)),Ui=["src"],Ri={class:"tips4"},Oi=["innerHTML"],Qi={key:1,class:"mb-[50px] m_over_title"},Vi={class:"text-3xl text-[#bbf74c] text-center font-medium m_over_title_msg"},Pi={class:"text-xl text-[#666666] text-center m_over_title_time"},Gi={key:2,class:"mb-[50px] m_no_opponent"},$i={class:"text-3xl text-[#BBF74C] text-center m_no_oppenent"},qi={class:"text-[15px] text-white/[0.5] text-center mt-[3px] m_no_opponent_num"},zi={key:3,class:"m_line"},Ji={key:4,class:"m_content"},Ki={class:"m_vote"},ji={class:"m_time"},Yi=Bt(()=>e("div",{class:"m_flashsale px-[15px] mt-[25px] text-[20px]"}," BID ",-1)),Hi={key:9,class:"mt-[40px]"},Wi=Ce({__name:"index",setup(a){const{t}=Te(),x=Le(),p=Ue(),f=v(),m=v(),c=x.query.match_id,w=Oe(),h=v(!0);let u=localStorage.getItem("newvisited")||0;const b=v(""),D=new tt,r=v(),I=v(!0),y=v([]),R=ze(),T=new et,M=v(),{quick:B}=x.query,g=v();let E=null;const Y=v(Math.round(Math.random())%2),Z=()=>{u=(Number(u)+1).toFixed(),localStorage.setItem("newvisited",u),document.body.style.overflow="visible",document.getElementById("modal").style.display="none"};Be(()=>{document.getElementById("modal").style.display="none",le(),G(),ee(),B&&he(),setTimeout(()=>{},0),E=g.value.isSwap});const ee=async()=>{I.value=!1;try{if(J(),f.value=await T.getMatchDataExtByMatchId(c),b.value=xt(f.value),w.address){const W=await D.getLastUserVoteDataByMatchIdAndUserAddress(c,w.address);le(),W&&(m.value=W)}const $=f.value.arenaBidDataList.length,H=f.value.challengerBidDataList.length;$==0&&H==0&&(h.value=!1),I.value=!0}catch($){L($.message,"error",!1),I.value=!0}},te=async()=>{var W;if(B){const K=(W=y.value)==null?void 0:W.indexOf(c);if(K<y.value.length-1){p.push({path:"/fightInfo/index",query:{match_id:y.value[K+1],quick:"quick"}});return}else L(t("views.fightInfo.t60"),"warning",!1),p.push({path:"/challenge/index"})}if(G(),f.value=await T.getMatchDataExtByMatchId(c),b.value=xt(f.value),w.address){const K=await D.getLastUserVoteDataByMatchIdAndUserAddress(c,w.address);K&&(m.value=K)}const $=f.value.arenaBidDataList.length,H=f.value.challengerBidDataList.length;$==0&&H==0&&(h.value=!1)},le=()=>{b.value=="playing"&&I&&(Number(u)>=3?document.getElementById("modal").style.display="none":(document.body.style.overflow="hidden",document.getElementById("modal").style.removeProperty("display")))},G=async()=>{const $=await D.getLastUserVoteDataByMatchIdAndUserAddress(c,w.address);if($){const H=new ss;r.value=await H.getNFTData($.votedNft,$.votedNftTokenId)}},he=async()=>{y.value=await T.getPlayingMatchIds(w.address),console.log(y.value)},J=async()=>{const $=await T.getMatchDataByMatchId(R,c);M.value=$.arenaCreatorAddress==w.address},ie=()=>{b.value=="playing"&&p.go(0)};return $t(()=>{document.body.removeAttribute("style")}),($,H)=>{var W,K,ce,ve;return l(),d("div",Fi,[F(s(Ee),{spinning:!I.value},null,8,["spinning"]),e("div",Mi,[e("div",Ei,[e("div",{class:"cursor-pointer modal_content bg_click",onClick:Z},[Li,e("img",{src:s(Si),alt:"",style:{width:"100px"}},null,8,Ui),e("div",Ri,o(s(t)("views.fightInfo.t41")),1)])])]),!["over","noOpponent"].includes(b.value)&&I.value?(l(),d("p",{key:0,class:"text-2xl text-center font-pf f-1 mb-[40px] title",innerHTML:s(t)("views.fightInfo.t3")},null,8,Oi)):C("",!0),["over"].includes(b.value)&&I.value?(l(),d("div",Qi,[e("p",Vi,o(s(t)("views.fightInfo.t1_fight_over")),1),e("p",Pi,o(s(Xt)(new Date((W=f.value)==null?void 0:W.matchEndTime).getTime())),1)])):C("",!0),["noOpponent"].includes(b.value)&&I.value?(l(),d("div",Gi,[e("p",$i,o(s(t)("views.fightInfo.waitChallenge")),1),e("p",qi,o(s(t)("views.fightInfo.challenger2Battle"))+"("+o((K=f.value)==null?void 0:K.challengeDataList.length)+")",1)])):C("",!0),["playing","noOpponent"].includes(b.value)?(l(),d("div",zi)):C("",!0),["playing","noOpponent"].includes(b.value)?(l(),d("div",Ji,[e("div",Ki,o((ce=f.value)==null?void 0:ce.voteCount)+" "+o(s(t)("views.fightInfo.voted")),1),e("div",ji,[F(Nt,{value:new Date((ve=f.value)==null?void 0:ve.matchEndTime).getTime(),format:"HH:mm:ss",onFinish:ie},null,8,["value"])])])):C("",!0),I.value?(l(),oe(ia,{key:5,class:"mb-[50px]",data:f.value,vote_data:m.value,isShowCom:b.value,onGetNewDate:te,nft_data:r.value,isMyCreate:M.value,ref_key:"fightInfoRef",ref:g,randomNum:Y.value},null,8,["data","vote_data","isShowCom","nft_data","isMyCreate","randomNum"])):C("",!0),["over"].includes(b.value)&&I.value?(l(),oe(Ea,{key:6,data:f.value,isShowCom:b.value,class:"flashsale"},null,8,["data","isShowCom"])):C("",!0),Yi,I.value?(l(),oe(mn,{key:7,data:f.value,isShowCom:b.value,class:"m_flashsale"},null,8,["data","isShowCom"])):C("",!0),!["noOpponent"].includes(b.value)&&h.value&&I.value?(l(),oe(qn,{key:8,class:"mt-[40px] my_rush",data:f.value,isShowCom:b.value},null,8,["data","isShowCom"])):C("",!0),!h.value&&I.value?(l(),d("div",Hi)):C("",!0),I.value?(l(),oe(Bi,{key:10,battleData:f.value,class:"mt-[60px]",isSwap:s(E),isShowCom:b.value},null,8,["battleData","isSwap","isShowCom"])):C("",!0)])}}});const Ul=Se(Wi,[["__scopeId","data-v-e19e3f46"]]);export{Ul as default};
