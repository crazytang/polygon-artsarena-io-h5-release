import{$ as P,a3 as W,cl as Z,an as X,a_ as L,a$ as z,bf as Y,b1 as q,ag as i,b2 as j,au as m,av as I,aH as e,a4 as v,aF as y,ah as s,b5 as c,aY as $,b3 as r,b8 as ee,aE as te,be as ae,b6 as E,bb as se,at as oe}from"./index-1e3b5e9c.js";import{G as le}from"./index-f374aa73.js";import{C as ie,F as ce}from"./index-8851b48a.js";import{D as ne}from"./delete-e62f0b84.js";import{A as de}from"./arrows_white-d6c56c02.js";import{D as re}from"./index-a9c0d02f.js";import{C as ue,T as Ae}from"./transaction-api-service-8b388dbb.js";import{C as ve}from"./contract-data-service-bee1e717.js";import{U as pe}from"./index-cfbc0f94.js";import"./utils-518c8eb5.js";import"./firstNotUndefined-748ee901.js";import"./debounce-93d5b68b.js";import"./DownloadOutlined-6cd35f11.js";import"./index-f42bfe17.js";import"./index-540ab890.js";import"./CheckOutlined-f83db689.js";import"./collapseMotion-84702878.js";import"./useMergedState-69e90c89.js";import"./Col-006999ba.js";import"./responsiveObserve-f3a612e5.js";import"./useFlexGapSupport-f4e16cef.js";import"./_arrayIncludesWith-2f006ba6.js";const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAeNJREFUSEvtlU1IFXEUxX/HQJRSipRwE7kIigiCgtpUK6NV0M5a6aIPqF0kQWA7t0GLwDaCQQvXblMQgnBb0EItCBVBTQwKU+rIhXkxb5w3OEgp+C4Mf5i58z/365wrdsm0S7jUgf9b5QtLbbsXuAQ0pCJaB95IehfvbJ8G7gKHUj6/gGFJk7UyqQls+ybwAngJ/E5dcAR4AHQC34CvwCjwJeXTlgRzXNL3PPAi4H7gmKQAqTLbM0A3EOdyVESS006254Frkj6WBX4GtEt6mAM8DdwG4lyWtCUB23PAdUkf6sBRgaIe3wPuA08yw3U4JhaIaV4AloBHwOfMcA3FAEoKny1WBNwIPAcu5tBpSNJgQqcbwGPgYIZOryQFeK7tTcm0fRI4n8k4xGFM0kqScTPQlRGQNeCtpNXSGdu+AIwD73N63A6ckbRmewKIvgdvK3YUaAHOStoo2+OnwAlJd3J4PAtEb4PHkVVzBFHxsx0tXAQuS/pUFrguIH8rZvufSmZw8yoQWyq7naaAK8lGih6fyhGQWCDnJMVZSkA6gjbJpVWLBxgBbsVGsj0A9AEHUk5/gNeSekrTKTWhrRkeb0j6URWJ3QTEU7F1ST9rgcb7valcRRHv9Fs9451WcNv/779SbwIDHeMflBklywAAAABJRU5ErkJggg==",ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAhtJREFUSEvtlU2IzWEYxX9HhI0FQslCrJSwwZBhGF+lRsrCdvZWFlbEwkZkkCiKJLIgKRsLChsL8hEWkgVFIbHx1Tg606tu45r/HfeOSebZvrfnd895zvP8xTCVhonLCPivOf/vWG17ItAtaV9/e2zPBpZJOlll3aAV294MHABmSvr2E2B7FHAYWA20SXo3ELxhsO1xQDtwBHgMfAR2SXoWgO17wAzgBrAOWCzp/u/ggwHvAbYBJwIs8F6gU9KjGsVrgCWS3rREcVE1CbgMZM5HJR2yPRZYC9wEJgNLJZ0aihl3xG5Jc2yPB64AUwsoSj9UQfPesNU1IcqsVwDXi/pPQAJ3DeiRdMF2G/BS0oumZ1zbwPYY4GICBJwBkui+NAOzgEvA64xA0vt68D9RPBo4D0wD1gNXgcy+XdIr2xOAs0ASvUPS96bBJblRmEMRhd3AVmB5bLW9oKzSQeCLpKS+bjWs2HZ+m4s0D1gJbAG2Z96SntuekqQDi4AuSXeaXqcCPZZVKcHqAnYDHZKellVL2OYCt4CFUS7pQVOKbce67GrS3AnsBVZJetIvdDuBjeVqfW1Kse1ANmWORXHuca7VwzofienAfEnZ7QFrwBnbzonsC08aAseLhXerGle9V4Ezr/3AZ+A0sEHS7aqmjbxXgZPec0B2N0nNH2lJVa6T7dzhXklvW0IsTSrBrYTV9hoBD5Wzv/T9/6z+ASCErx+op1t2AAAAAElFTkSuQmCC",fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAHVJREFUSEvtlTEOwCAMA8m/2tfTfxkhZaBDo8RDs5jZcOKIhY2mZU3cIfBv5qU6rRrA3GEzu9ObjiCtGgAcTJ1BbdpAgavvLNUvY16Zq6rR809UtVB1Gzi6qepUnQPVKW2sc7h6vsW0mo8gPVwCVw1IddUYnV8JQUIfKpMggAAAAABJRU5ErkJggg==";class R extends ue{constructor(a,o,p){super(a,o,p)}static async connect(){const a=P(),o=await ve.getCreateNFTCollectionData(a);return new R(o.contract_address,o.abi,a)}async createNFTCollection(a,o,p,_){await this.checkNetwork();const{hash:w}=await W({...this.getConfig(),functionName:"createNFTCollection",args:[a,o,p,_]});return await new Ae().pushTxHash(w,this.chainId),w}async getNewNftAddress(a){const o=await this.provider.getTransactionReceipt(a);return Z(o,this.contract,"CreatedNFTCollection").nft_address}}const me={class:"uploaded default-family"},we={class:"uploaded_title"},he={class:"uploaded_img"},Ce={class:"img_top"},be={class:"relative img_top_vessel"},Se={key:1,class:"upload_tip"},Be={key:2,class:"w-[84px] h-[84px] absolute -right-1 more_img img_bg_one"},Ie={key:3,class:"w-[78px] h-[78px] absolute -right-2 more_img img_bg_two"},Ue={class:"item"},ke={class:"uploaded_right"},Ne={class:"upload_btn"},Ee=["src"],Re={class:"upload_btn"},ye=["src"],xe={class:"uploaded_info"},Ve={class:"uploaded_info_title"},Je={class:"uploaded_info_preview"},Fe={class:"uploaded_info_preview_left"},Qe={class:"uploaded_info_preview_left_img"},He=["src"],Ge={class:"uploaded_info_preview_left_text"},Ke={class:"uploaded_info_preview_left_text_one"},Oe={class:"uploaded_info_preview_left_text_two"},Te=["src"],De={class:"uploaded_info_reveal"},Me={class:"uploaded_info_reveal_img"},Pe=["src"],We={class:"uploaded_info_reveal_text"},Ze={class:"uploaded_info_reveal_text_one"},Xe={class:"uploaded_info_reveal_text_two"},Le=X({__name:"index",setup(ze){const{t:a}=L(),o=z(),[p,_]=[Y(),q()],w=i(`/burn/api/burn/collection/initcreate/token/image/${o.address}`),h=i(!1),u=i(!1),C=new ee,g=i([]),f=i(!1),A=i(""),n=i(!0),b=i(!1),x=i(""),d=i("0"),V=i(!1),U=i(!1),{chain:l}=j(),J=()=>{if(!A.value){r(a("views.create.uploaded.t13"),"warning",!1);return}u.value=!0},F=()=>{u.value=!1},Q=async()=>{if(n.value==!0){b.value=!0,u.value=!0;try{const t=await C.getIpfsData(o.address,{chainId:l==null?void 0:l.id}),S=await(await R.connect()).createNFTCollection(t.name,t.symbol,t.baseUri,t.totalSupply),B=await C.sendCreateNftHash(o.address,{hash:S,baseUri:t.baseUri,id:t.id,chainId:l==null?void 0:l.id});console.log(B),b.value=!1,u.value=!1,_.push("/create/index")}catch(t){console.error(t),b.value=!1,u.value=!1}}else r(a("views.create.uploaded.t8"),"warning",!1,2)},k=async()=>{C.getCreateNftLastImg(o.address,{chainId:l==null?void 0:l.id}).then(t=>{d.value=(t==null?void 0:t.totalSupply)||0,A.value=t==null?void 0:t.imageUri})},H=()=>{U.value=!1,h.value=!1},G=async()=>{U.value=!0,await C.delImageAll(o.address,{chainId:l==null?void 0:l.id}),g.value=[],k(),h.value=!1},K=t=>{f.value=!0,n.value=!1,t.file.status=="error"&&(f.value=!1,n.value=!0,r(a("views.create.uploaded.t9"),"error",!1,2)),t.file.status=="done"&&(console.log(t),t.file.response.data.isAdd==1?(n.value=!0,A.value=t.file.response.data.image,x.value=t.file.response.data.totalSupply,k()):(n.value=!1,r(a("views.create.uploaded.t14"),"warning",!1,2)),f.value=!1),t.file.status=="removed"&&(f.value=!1,n.value=!0,r(a("views.create.uploaded.t10"),"error",!1,2))},O=async()=>{if(d.value=="0"){r("Have no image delete","warning",!1);return}h.value=!0},T=()=>{n.value==!0?_.push({path:"/create/items"}):r(a("views.create.uploaded.t11"),"warning",!1,2)},D=()=>{_.push("/create/collective")};return k(),(t,N)=>(m(),I($,null,[e("div",me,[v(s(se),{spinning:f.value},{default:y(()=>{var S,B;return[v(le,{onActive:D}),e("div",we,c(s(a)("views.create.uploaded.t1")),1),e("div",he,[e("div",Ce,[e("div",be,[((S=g.value)==null?void 0:S.length)==1||A.value?(m(),te(ae,{key:0,src:A.value,alt:"avatar",class:"absolute img"},null,8,["src"])):((B=g.value)==null?void 0:B.length)==0?(m(),I("div",Se,c(s(a)("views.create.uploaded.t12")),1)):E("",!0),d.value>="2"?(m(),I("div",Be)):E("",!0),d.value>"2"?(m(),I("div",Ie)):E("",!0)]),e("div",Ue,c(d.value)+" Items ",1)]),e("div",ke,[v(s(pe),{"file-list":g.value,"onUpdate:fileList":N[0]||(N[0]=M=>g.value=M),"list-type":"picture-card",action:w.value,class:"upload",onChange:K,"show-upload-list":!1,multiple:""},{default:y(()=>[e("div",Ne,[e("img",{src:s(fe),alt:""},null,8,Ee)])]),_:1},8,["file-list","action"]),e("div",{class:"det",onClick:O},[e("div",Re,[e("img",{src:s(ne),alt:""},null,8,ye)])])])]),e("div",xe,[e("div",Ve,c(s(a)("views.create.uploaded.t3")),1),e("div",Je,[e("div",Fe,[e("div",Qe,[e("img",{src:s(_e),alt:""},null,8,He)]),e("div",Ge,[e("div",Ke,c(s(a)("views.create.uploaded.t4")),1),e("div",Oe,c(s(a)("views.create.uploaded.t5")),1)])]),e("div",{class:"flex items-center uploaded_info_preview_right",onClick:T},[e("span",null,c(d.value)+" Items",1),e("img",{src:s(de),alt:""},null,8,Te)])]),e("div",De,[e("div",Me,[e("img",{src:s(ge),alt:""},null,8,Pe)]),e("div",We,[e("div",Ze,c(s(a)("views.create.uploaded.t6")),1),e("div",Xe,c(s(a)("views.create.uploaded.t7")),1)])])]),v(ce)]}),_:1},8,["spinning"]),e("div",{class:"continue",onClick:J},c(s(a)("views.create.btn")),1)]),v(re,{open:h.value,onCloseModal:H,onOk:G,loadClose:V.value,loadOk:U.value},null,8,["open","loadClose","loadOk"]),v(ie,{createtyle:"create",open:u.value,onCloseModal:F,onOk:Q,imgUrl:A.value,loading:b.value,totalSupply:d.value},null,8,["open","imgUrl","loading","totalSupply"])],64))}});const mt=oe(Le,[["__scopeId","data-v-bc6d8ddd"]]);export{mt as default};
